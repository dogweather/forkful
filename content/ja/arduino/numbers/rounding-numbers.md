---
date: 2024-01-26 03:43:01.037954-07:00
description: "\u6570\u5024\u3092\u4E38\u3081\u308B\u3068\u306F\u3001\u5C0F\u6570\u70B9\
  \u3092\u6700\u3082\u8FD1\u3044\u6574\u6570\u5024\u307E\u305F\u306F\u8A2D\u5B9A\u3055\
  \u308C\u305F\u5C0F\u6570\u70B9\u4EE5\u4E0B\u306E\u6841\u6570\u306B\u5207\u308A\u6368\
  \u3066\u308B\u3053\u3068\u3067\u3059\u3002\u30D7\u30ED\u30B0\u30E9\u30DE\u30FC\u306F\
  \u3001\u7279\u5B9A\u306E\u70B9\u3092\u8D85\u3048\u308B\u7CBE\u5EA6\u304C\u5FC5\u8981\
  \u306A\u3044\u5834\u5408\u3084\u30A8\u30E9\u30FC\u306B\u3064\u306A\u304C\u308A\u3046\
  \u308B\u5834\u5408\u3001\u6570\u5024\u3092\u8AAD\u307F\u3084\u3059\u304F\u6271\u3044\
  \u3084\u3059\u304F\u3059\u308B\u305F\u3081\u306B\u6570\u5024\u3092\u4E38\u3081\u307E\
  \u3059\u3002"
lastmod: '2024-03-13T22:44:42.489869-06:00'
model: gpt-4-0125-preview
summary: "\u6570\u5024\u3092\u4E38\u3081\u308B\u3068\u306F\u3001\u5C0F\u6570\u70B9\
  \u3092\u6700\u3082\u8FD1\u3044\u6574\u6570\u5024\u307E\u305F\u306F\u8A2D\u5B9A\u3055\
  \u308C\u305F\u5C0F\u6570\u70B9\u4EE5\u4E0B\u306E\u6841\u6570\u306B\u5207\u308A\u6368\
  \u3066\u308B\u3053\u3068\u3067\u3059\u3002\u30D7\u30ED\u30B0\u30E9\u30DE\u30FC\u306F\
  \u3001\u7279\u5B9A\u306E\u70B9\u3092\u8D85\u3048\u308B\u7CBE\u5EA6\u304C\u5FC5\u8981\
  \u306A\u3044\u5834\u5408\u3084\u30A8\u30E9\u30FC\u306B\u3064\u306A\u304C\u308A\u3046\
  \u308B\u5834\u5408\u3001\u6570\u5024\u3092\u8AAD\u307F\u3084\u3059\u304F\u6271\u3044\
  \u3084\u3059\u304F\u3059\u308B\u305F\u3081\u306B\u6570\u5024\u3092\u4E38\u3081\u307E\
  \u3059\u3002"
title: "\u6570\u5024\u306E\u4E38\u3081\u51E6\u7406"
weight: 13
---

## 何となぜ？
数値を丸めるとは、小数点を最も近い整数値または設定された小数点以下の桁数に切り捨てることです。プログラマーは、特定の点を超える精度が必要ない場合やエラーにつながりうる場合、数値を読みやすく扱いやすくするために数値を丸めます。

## 方法
Arduinoでは、組み込みの関数を使用して数値を丸めることができます。キープレーヤーは`round`、`ceil`、そして`floor`です。早速デモを見てみましょう：

```arduino
void setup() {
  Serial.begin(9600);
  
  float myNumber = 123.4567;

  // 最も近い整数に丸める
  Serial.println(round(myNumber)); // 出力: 123

  // 常に切り上げ
  Serial.println(ceil(myNumber));  // 出力: 124

  // 常に切り捨て
  Serial.println(floor(myNumber)); // 出力: 123
}

void loop() {
  // ループするものはありません。
}
```

## ディープダイブ
丸めのアルゴリズムには長い歴史があります。それらはデジタルコンピューターが現れるずっと前からありました。アナログ計算では、丸めは物理的なプロセスでした。デジタル計算では、それは数学的なものです。

より高い精度の型（`float`や`double`など）からより低い精度の型（`int`など）へ変換する際、丸めが必要になります。しかし、どのように丸めるかは異なる場合があります：

1. `round()`: 標準的な丸め。分数が0.5以上であれば上に、それ以外では下に行きます。
2. `ceil()`: 「天井」を意味し、常に最も近い整数まで切り上げます。たとえそれが下の数により近い場合でもです。
3. `floor()`: 天井の反対で、常に切り捨てます。

これらの関数の選択は、丸められた値が何のために使われるかにかかっています。測定には標準的な丸めが必要かもしれませんが、お金には`floor`がよく使われ、在庫システムでは全てが計算されるよう`ceil`が使われることがあります。

Arduinoのこれらの関数の実装は直感的で、特定の小数点以下の桁数まで丸めるような追加ケースは処理しません。そのため、カスタム関数やより深い数学が必要になる場合があります。小数点を移動するために乗算し、丸めてから割り戻すという考え方です。

誤差の丸め込みは蓄積することがあり、長い計算や反復的なプロセスに大きな影響を与える可能性があります。プログラマーは、丸めた値に対して多数の操作を行う際に注意が必要です。

## 参照：
2. 丸めの落とし穴と戦略についての詳細な調査：[Floating Point Guide](https://floating-point-gui.de/)
3. カスタム丸め関数や丸め誤差の処理を含む高度な技術については、学術リソースや詳細なプログラミングガイドをチェックするとよいでしょう。
