---
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:04:45.771005-07:00
description: "\u041A\u0430\u043A: \u0412\u043E-\u043F\u0435\u0440\u0432\u044B\u0445\
  , \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044C, \u0447\u0442\u043E \u0432\
  \ \u0432\u0430\u0448\u0435\u0439 \u0441\u0440\u0435\u0434\u0435 Lua \u0435\u0441\
  \u0442\u044C \u043F\u0430\u0440\u0441\u0435\u0440 TOML. \u0414\u043B\u044F \u044D\
  \u0442\u043E\u0433\u043E \u043F\u0440\u0438\u043C\u0435\u0440\u0430 \u043C\u044B\
  \ \u0431\u0443\u0434\u0435\u043C \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\
  \u0432\u0430\u0442\u044C `lua-toml`."
lastmod: '2024-03-13T22:44:45.331015-06:00'
model: gpt-4-0125-preview
summary: "\u0412\u043E-\u043F\u0435\u0440\u0432\u044B\u0445, \u0443\u0431\u0435\u0434\
  \u0438\u0442\u0435\u0441\u044C, \u0447\u0442\u043E \u0432 \u0432\u0430\u0448\u0435\
  \u0439 \u0441\u0440\u0435\u0434\u0435 Lua \u0435\u0441\u0442\u044C \u043F\u0430\u0440\
  \u0441\u0435\u0440 TOML."
title: "\u0420\u0430\u0431\u043E\u0442\u0430 \u0441 TOML"
weight: 39
---

## Как:
Во-первых, убедитесь, что в вашей среде Lua есть парсер TOML. Для этого примера мы будем использовать `lua-toml`.

```Lua
local toml = require("toml")

-- Разбор строки TOML
local toml_data = [[
title = "Пример TOML"

[owner]
name = "Том Престон-Вернер"
dob = 1979-05-27T07:32:00Z
]]

local data = toml.parse(toml_data)
print(data.title) -- "Пример TOML"

-- Генерация строки TOML
local table_data = {
  title = "Пример TOML",
  owner = {
    name = "Том Престон-Вернер",
    dob = os.time({year=1979, month=5, day=27, hour=7, min=32})
  }
}

local toml_string = toml.encode(table_data)
print(toml_string)
```

Пример вывода:
```
Пример TOML
```

## Подробнее
TOML был создан Томом Престон-Вернером в 2013 году как альтернатива другим языкам сериализации данных, таким как XML и YAML, предлагая более простой формат для представления данных конфигурации. Хотя JSON повсеместно используется, его синтаксис может быть громоздким для файлов конфигурации. TOML выделяется более ясным синтаксисом для людей, напоминая .ini файлы, но с возможностями вложения и типами данных.

Альтернативами TOML являются JSON, YAML и XML. Однако TOML специально разработан для конфигурации и, возможно, проще, чем YAML, более читаемый, чем JSON для целей конфигурации, и менее многословный, чем XML.

Реализация обработки TOML в Lua обычно требует сторонней библиотеки. Производительность и функции могут различаться от базового разбора до полной поддержки сериализации. При работе с большими файлами конфигурации или частыми операциями чтения/записи стоит учитывать производительность библиотеки и соответствие последней версии TOML.

## См. также
- Спецификация TOML: https://toml.io/en/
- Библиотека `lua-toml`: https://github.com/jonstoler/lua-toml
- Сравнение форматов сериализации данных: https://en.wikipedia.org/wiki/Comparison_of_data-serialization_formats
