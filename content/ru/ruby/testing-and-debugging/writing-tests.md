---
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:06:17.811754-07:00
description: "\u041D\u0430\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0442\u0435\u0441\
  \u0442\u043E\u0432 \u043F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u0442, \u0440\
  \u0430\u0431\u043E\u0442\u0430\u0435\u0442 \u043B\u0438 \u043A\u043E\u0434 \u043A\
  \u0430\u043A \u043E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F. \u041F\u0440\
  \u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\u0430\
  \u044E\u0442 \u044D\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0440\
  \u0430\u043D\u0435\u0435 \u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0438\u0442\u044C\
  \ \u043E\u0448\u0438\u0431\u043A\u0438, \u043E\u0431\u0435\u0441\u043F\u0435\u0447\
  \u0438\u0442\u044C \u043D\u0430\u0434\u0435\u0436\u043D\u043E\u0441\u0442\u044C\
  \ \u0438 \u043E\u0431\u043B\u0435\u0433\u0447\u0438\u0442\u044C\u2026"
lastmod: '2024-03-13T22:44:46.004009-06:00'
model: gpt-4-0125-preview
summary: "\u041D\u0430\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0442\u0435\u0441\
  \u0442\u043E\u0432 \u043F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u0442, \u0440\
  \u0430\u0431\u043E\u0442\u0430\u0435\u0442 \u043B\u0438 \u043A\u043E\u0434 \u043A\
  \u0430\u043A \u043E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F. \u041F\u0440\
  \u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\u0430\
  \u044E\u0442 \u044D\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0440\
  \u0430\u043D\u0435\u0435 \u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0438\u0442\u044C\
  \ \u043E\u0448\u0438\u0431\u043A\u0438, \u043E\u0431\u0435\u0441\u043F\u0435\u0447\
  \u0438\u0442\u044C \u043D\u0430\u0434\u0435\u0436\u043D\u043E\u0441\u0442\u044C\
  \ \u0438 \u043E\u0431\u043B\u0435\u0433\u0447\u0438\u0442\u044C\u2026"
title: "\u041D\u0430\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0442\u0435\u0441\u0442\
  \u043E\u0432"
weight: 36
---

## Что и зачем?

Написание тестов проверяет, работает ли код как ожидается. Программисты делают это, чтобы заранее обнаружить ошибки, обеспечить надежность и облегчить будущие изменения кода.

## Как это сделать:

В Ruby для тестирования используются Minitest и RSpec — давайте использовать RSpec. Сначала установите его:

```ruby
gem install rspec
```

Создайте тестовый файл, `calculator_spec.rb`:

```ruby
RSpec.describe Calculator do
  describe "#add" do
    it "суммирует два числа" do
      expect(Calculator.new.add(3, 7)).to eql(10)
    end
  end
end
```

Запустите тест с помощью:

```shell
rspec calculator_spec.rb
```

Вывод:

```
F

Ошибки:

  1) Calculator#add суммирует два числа
     Ошибка/Ошибка: expect(Calculator.new.add(3, 7)).to eql(10)
     
     NameError:
       неинициализированная константа Calculator
```

Создайте `calculator.rb`:

```ruby
class Calculator
  def add(a, b)
    a + b
  end
end
```

Снова запустите тесты.

Вывод:

```
.

Завершено за 0.002 секунды (файлы загружены за 0.08 секунд)
1 пример, 0 неудач
```

## Глубокое погружение

Тестирование в Ruby ведет свои корни от Test::Unit, но RSpec, представленный в 2005 году, революционизировал тестирование в Ruby благодаря "разработке, ориентированной на поведение". Альтернативы RSpec включают Minitest и Test::Unit. RSpec сосредоточен на читаемости и бизнес аспектах; Minitest более минималистичен и быстрее. Типично, тесты имитируют использование программного обеспечения, проверяя функции, данные и крайние случаи. Для существующих проектов начните с тестирования наиболее критичных частей.

## Смотрите также

- RSpec GitHub: [github.com/rspec/rspec](https://github.com/rspec/rspec)
- Minitest: [rubygems.org/gems/minitest](https://rubygems.org/gems/minitest)
- "Эффективное тестирование с RSpec 3": Читайте для получения дополнительной информации о принципах и паттернах RSpec.
