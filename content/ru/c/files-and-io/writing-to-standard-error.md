---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 18:15:25.822798-07:00
description: "\u0412\u044B\u0432\u043E\u0434 \u043D\u0430 \u0441\u0442\u0430\u043D\
  \u0434\u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\
  \u0448\u0438\u0431\u043E\u043A \u0432 C \u043F\u0440\u0435\u0434\u043F\u043E\u043B\
  \u0430\u0433\u0430\u0435\u0442 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\
  \u0438\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u043E\u0431\
  \ \u043E\u0448\u0438\u0431\u043A\u0430\u0445 \u0438 \u0434\u0438\u0430\u0433\u043D\
  \u043E\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0439 \u0438\u043D\u0444\u043E\
  \u0440\u043C\u0430\u0446\u0438\u0438 \u0432 \u043F\u043E\u0442\u043E\u043A, \u043E\
  \u0442\u0434\u0435\u043B\u044C\u043D\u044B\u0439 \u043E\u0442 \u043E\u0441\u043D\
  \u043E\u0432\u043D\u043E\u0433\u043E \u0432\u044B\u0432\u043E\u0434\u0430\u2026"
lastmod: '2024-03-13T22:44:45.947477-06:00'
model: gpt-4-0125-preview
summary: "\u0412\u044B\u0432\u043E\u0434 \u043D\u0430 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A \u0432 C \u043F\u0440\u0435\u0434\u043F\u043E\u043B\u0430\
  \u0433\u0430\u0435\u0442 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\
  \u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u043E\u0431 \u043E\
  \u0448\u0438\u0431\u043A\u0430\u0445 \u0438 \u0434\u0438\u0430\u0433\u043D\u043E\
  \u0441\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\
  \u043C\u0430\u0446\u0438\u0438 \u0432 \u043F\u043E\u0442\u043E\u043A, \u043E\u0442\
  \u0434\u0435\u043B\u044C\u043D\u044B\u0439 \u043E\u0442 \u043E\u0441\u043D\u043E\
  \u0432\u043D\u043E\u0433\u043E \u0432\u044B\u0432\u043E\u0434\u0430 \u043F\u0440\
  \u043E\u0433\u0440\u0430\u043C\u043C\u044B."
title: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A"
weight: 25
---

## Что и зачем?

Вывод на стандартный поток ошибок в C предполагает направление сообщений об ошибках и диагностической информации в поток, отдельный от основного вывода программы. Программисты делают это для того, чтобы отделить сообщения об ошибках от стандартного вывода, что делает их более читаемыми и удобными для обработки отдельно, особенно при отладке или ведении журнала выполнения программ.

## Как это сделать:

В C для вывода сообщений об ошибках используется поток `stderr`. В отличие от записи в стандартный вывод с помощью `printf`, для записи в `stderr` можно использовать `fprintf` или `fputs`. Вот как это можно сделать:

```c
#include <stdio.h>

int main() {
    fprintf(stderr, "Это сообщение об ошибке.\n");

    fputs("Это еще одно сообщение об ошибке.\n", stderr);
    
    return 0;
}
```

Пример вывода (в stderr):
```
Это сообщение об ошибке.
Это еще одно сообщение об ошибке.
```

Важно отметить, что, хотя вывод выглядит аналогично `stdout` в консоли, когда используется перенаправление в терминале, различие становится очевидным:

```sh
$ ./your_program > output.txt
```

Эта команда перенаправляет только стандартный вывод в `output.txt`, в то время как сообщения об ошибках все еще будут появляться на экране.

## Погружение

Различие между `stdout` и `stderr` в системах на базе Unix восходит к ранним дням C и Unix. Это разделение позволяет более надежно обрабатывать ошибки и вести журнал, поскольку оно дает программистам возможность перенаправлять сообщения об ошибках независимо от стандартного вывода программы. В то время как `stderr` по умолчанию не буферизируется, чтобы обеспечить немедленный вывод сообщений об ошибках, что помогает в отладке сбоев и других критических проблем, `stdout`, как правило, буферизируется, что означает, что его вывод может задерживаться до тех пор, пока буфер не будет очищен (например, по завершении программы или вручную).

В современных приложениях вывод на `stderr` по-прежнему актуален, особенно для инструментов командной строки и серверных приложений, где важно различать обычные сообщения журнала и ошибки. Однако для более сложной обработки ошибок, особенно в графических пользовательских интерфейсах или когда требуются более сложные механизмы ведения журнала, программисты могут использовать специализированные библиотеки ведения журнала, которые обеспечивают больший контроль над форматированием сообщений, направлениями (например, файлы, сеть) и уровнями серьезности (информация, предупреждение, ошибка и т.д.).

Хотя `stderr` предоставляет фундаментальный механизм для сообщения об ошибках в C, эволюция практик программирования и наличие продвинутых фреймворков ведения журнала означают, что часто это лишь отправная точка для современных стратегий обработки ошибок.
