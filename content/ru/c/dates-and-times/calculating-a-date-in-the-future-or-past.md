---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 17:53:10.819474-07:00
description: "\u041A\u0430\u043A \u044D\u0442\u043E \u0441\u0434\u0435\u043B\u0430\
  \u0442\u044C: \u0425\u043E\u0442\u044F \u0441\u0442\u0430\u043D\u0434\u0430\u0440\
  \u0442\u043D\u0430\u044F \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0430\
  \ \u044F\u0437\u044B\u043A\u0430 C \u043D\u0435 \u043F\u0440\u0435\u0434\u043E\u0441\
  \u0442\u0430\u0432\u043B\u044F\u0435\u0442 \u043F\u0440\u044F\u043C\u044B\u0445\
  \ \u0444\u0443\u043D\u043A\u0446\u0438\u0439 \u0434\u043B\u044F \u0430\u0440\u0438\
  \u0444\u043C\u0435\u0442\u0438\u043A\u0438 \u0434\u0430\u0442, \u0432\u044B \u043C\
  \u043E\u0436\u0435\u0442\u0435 \u043C\u0430\u043D\u0438\u043F\u0443\u043B\u0438\u0440\
  \u043E\u0432\u0430\u0442\u044C \u0434\u0430\u0442\u0430\u043C\u0438, \u0438\u0441\
  \u043F\u043E\u043B\u044C\u0437\u0443\u044F\u2026"
lastmod: '2024-03-13T22:44:45.941997-06:00'
model: gpt-4-0125-preview
summary: "\u0425\u043E\u0442\u044F \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\
  \u043D\u0430\u044F \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0430\
  \ \u044F\u0437\u044B\u043A\u0430 C \u043D\u0435 \u043F\u0440\u0435\u0434\u043E\u0441\
  \u0442\u0430\u0432\u043B\u044F\u0435\u0442 \u043F\u0440\u044F\u043C\u044B\u0445\
  \ \u0444\u0443\u043D\u043A\u0446\u0438\u0439 \u0434\u043B\u044F \u0430\u0440\u0438\
  \u0444\u043C\u0435\u0442\u0438\u043A\u0438 \u0434\u0430\u0442, \u0432\u044B \u043C\
  \u043E\u0436\u0435\u0442\u0435 \u043C\u0430\u043D\u0438\u043F\u0443\u043B\u0438\u0440\
  \u043E\u0432\u0430\u0442\u044C \u0434\u0430\u0442\u0430\u043C\u0438, \u0438\u0441\
  \u043F\u043E\u043B\u044C\u0437\u0443\u044F \u0431\u0438\u0431\u043B\u0438\u043E\u0442\
  \u0435\u043A\u0443 `time.h`, \u0432 \u0447\u0430\u0441\u0442\u043D\u043E\u0441\u0442\
  \u0438, \u0440\u0430\u0431\u043E\u0442\u0430\u044F \u0441 \u0442\u0438\u043F\u043E\
  \u043C \u0434\u0430\u043D\u043D\u044B\u0445 `time_t` \u0438 `struct tm`."
title: "\u0420\u0430\u0441\u0447\u0435\u0442 \u0434\u0430\u0442\u044B \u0432 \u0431\
  \u0443\u0434\u0443\u0449\u0435\u043C \u0438\u043B\u0438 \u043F\u0440\u043E\u0448\
  \u043B\u043E\u043C"
weight: 26
---

## Как это сделать:
Хотя стандартная библиотека языка C не предоставляет прямых функций для арифметики дат, вы можете манипулировать датами, используя библиотеку `time.h`, в частности, работая с типом данных `time_t` и `struct tm`. Вот упрощенный пример того, как добавить дни к текущей дате:

```c
#include <stdio.h>
#include <time.h>

void addDays(struct tm* date, int daysToAdd) {
    const time_t ONE_DAY = 24 * 60 * 60; // секунд в одном дне
    // Преобразование структуры tm в time_t, добавление дней и обратное преобразование
    time_t date_seconds = mktime(date) + (daysToAdd * ONE_DAY);
    *date = *localtime(&date_seconds);
}

int main() {
    time_t now;
    time(&now);
    struct tm futureDate = *localtime(&now);

    int daysToAdd = 10; // Настройте это для желаемого количества дней для добавления
    addDays(&futureDate, daysToAdd);

    printf("Будущая дата: %d-%d-%d\n", futureDate.tm_year + 1900, futureDate.tm_mon + 1, futureDate.tm_mday);

    return 0;
}
```

Этот код добавляет указанное количество дней к текущей дате и выводит будущую дату. Обратите внимание, что в этом подходе учитываются секунды интеркалации и корректировки летнего времени, с которыми работают `mktime` и `localtime`.

Пример вывода:

```
Будущая дата: 2023-04-23
```

Имейте в виду, что в этом примере добавляются дни, но для более сложных расчетов (например, месяцев или лет, с учетом високосных лет) вам потребуется более сложная логика или библиотеки, такие как `date.h` в C++ или сторонние библиотеки в C.

## Глубокое погружение
Манипулирование датами в C с использованием библиотеки time.h включает непосредственное манипулирование временем в секундах с момента эпохи Unix (00:00, 1 января 1970 г., UTC), за которым следует преобразование этих секунд обратно в более понятный человеку формат даты (`struct tm`). Этот подход прост, но эффективен для базовых операций и имеет преимущество в том, что он кросс-платформенный и является частью стандартной библиотеки C.

Однако эта простота метода также является ограничением. Дело в том, что выполнение более сложных расчетов дат (например, учет различной длительности месяцев, високосных лет и часовых поясов) быстро становится нетривиальной задачей. Языки, такие как Python с `datetime` или Java с `java.time`, предоставляют более интуитивно понятные API для арифметики дат, принимая объектно-ориентированные принципы для ясности и удобства использования.

На практике, когда работа над проектами требует обширной манипуляции с датами в C, разработчики часто обращаются к сторонним библиотекам для более надежных решений. Эти библиотеки могут предложить обширные функциональные возможности в области даты и времени, включая обработку часовых поясов, варианты форматирования и более тонкие возможности арифметики дат, значительно упрощая задачу разработчика.

Несмотря на наличие более современных альтернатив, понимание того, как манипулировать датами с использованием стандартной библиотеки C, остается ценным навыком. Это дает глубокие понимание того, как компьютеры представляют и работают со временем, фундаментальное понятие, которое выходит за рамки конкретных языков программирования.
