---
title:                "Генерация случайных чисел"
date:                  2024-01-28T23:58:51.972867-07:00
model:                 gpt-4-0125-preview
simple_title:         "Генерация случайных чисел"

category:             "C"
tag:                  "Numbers"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/generating-random-numbers.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Генерация случайных чисел в C заключается в создании последовательностей чисел, не имеющих различимого шаблона, что имитирует понятие случайности. Программисты используют случайные числа в самых разных целях, включая симуляцию данных, криптографические приложения и разработку игр, что делает это важным аспектом программирования.

## Как это сделать:

Для генерации случайных чисел в C обычно используется функция `rand()` из `stdlib.h`. Однако крайне важно задать начальное значение генератора случайных чисел, чтобы обеспечить изменчивость сгенерированных чисел при различных запусках программы. Функция `srand()`, инициализируемая значением, часто текущим временем, облегчает это.

Вот простой пример генерации случайного числа от 0 до 99:

```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    // Инициализация генератора случайных чисел
    srand((unsigned) time(NULL));

    // Генерация случайного числа от 0 до 99
    int randomNumber = rand() % 100;

    // Вывод случайного числа
    printf("Случайное число: %d\n", randomNumber);

    return 0;
}
```

Пример вывода:

```
Случайное число: 42
```

Важно отметить, что при каждом запуске этой программы будет производиться новое случайное число, благодаря инициализации текущим временем.

## Более глубоко

Традиционный способ генерации случайных чисел в C с использованием `rand()` и `srand()` не является по-настоящему случайным. Это псевдослучайность. Это подходит для многих приложений, но не подходит в ситуациях, требующих высокой степени случайности, например, в серьезных криптографических использованиях. Последовательность, генерируемая `rand()`, полностью определяется заданным для `srand()` начальным значением. Таким образом, если известно начальное значение, последовательность можно предсказать, что снижает случайность.

Исторически функция `rand()` подвергалась критике за низкое качество случайности и ограниченный диапазон. Современные альтернативы включают использование специфичных для устройства API или внешних библиотек, которые лучше приближают истинную случайность, или, в системах, подобных UNIX, чтение из `/dev/random` или `/dev/urandom` для криптографических целей.

Например, использование `/dev/urandom` в C:

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    FILE *fp;
    unsigned int randomNumber;

    // Открыть /dev/urandom для чтения
    fp = fopen("/dev/urandom", "r");

    // Прочитать случайное число
    fread(&randomNumber, sizeof(randomNumber), 1, fp);

    // Вывести случайное число
    printf("Случайное число: %u\n", randomNumber);

    // Закрыть файл
    fclose(fp);

    return 0;
}
```

Этот метод читает напрямую из пула энтропии системы, предлагая более высокое качество случайности, подходящее для более чувствительных приложений. Однако этот подход может иметь проблемы с переносимостью на разные платформы, делая его менее универсальным, чем использование `rand()`. 

Независимо от метода, понимание природы случайности и ее реализации в C критически важно для разработки эффективных, безопасных и увлекательных приложений.
