---
title:                "Преобразование даты в строку"
date:                  2024-01-28T23:56:38.122212-07:00
model:                 gpt-4-0125-preview
simple_title:         "Преобразование даты в строку"

category:             "C"
tag:                  "Dates and Times"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/converting-a-date-into-a-string.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Зачем?
Мы преобразуем даты в строки, чтобы сделать их удобными для чтения человеком или для форматирования под хранение и отображение. Речь идет о том, чтобы взять сырые данные даты и представить их таким образом, чтобы это имело смысл для нас.

## Как это сделать:
В языке C эта задача становится довольно простой благодаря функции `strftime`. Вот быстрый пример:

```C
#include <stdio.h>
#include <time.h>

int main() {
    time_t rawtime;
    struct tm * timeinfo;
    char buffer[80];

    time(&rawtime);
    timeinfo = localtime(&rawtime);

    strftime(buffer, размер(buffer), "%d-%m-%Y %I:%M:%S", timeinfo);
    printf("Отформатированные дата и время: %s\n", buffer);

    return 0;
}
```

Примерный вывод может быть следующим: `Отформатированные дата и время: 22-03-2023 09:45:12`

## Глубже:
Исторически сложилось, что обработка времени в C имеет свои особенности: например, более ранние стандарты не предусматривали стандартизированного способа обработки часовых поясов. Теперь у нас есть `strftime` как часть стандартной библиотеки C начиная с C89, что дает нам последовательный способ преобразования структур времени `struct tm` в строки с контролем формата.

Что касается альтернатив, можно вручную извлечь значения из `struct tm` и объединить их, но это изобретение велосипеда. Есть также функция POSIX `strptime`, которая работает в обратном направлении, из строки в `struct tm`.

При использовании `strftime` помните: размер буфера имеет значение; если он слишком мал, ваша строка будет обрезана. Также спецификаторы формата в `strftime` позволяют вам настраивать дату и время различными удобными для пользователя способами, например, изменяя локали или представление даты-времени.

## Смотрите также:
- Документация стандартной библиотеки C: https://en.cppreference.com/w/c/chrono/strftime
- Руководство по библиотеке GNU C по времени: https://www.gnu.org/software/libc/manual/html_node/Time.html
- Спецификаторы формата strftime: https://www.gnu.org/software/libc/manual/html_node/Low_002dLevel-Time-String-Parsing.html#Low_002dLevel-Time-String-Parsing
