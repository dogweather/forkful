---
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:01:08.787484-07:00
description: "\u041A\u0430\u043A \u044D\u0442\u043E \u0441\u0434\u0435\u043B\u0430\
  \u0442\u044C: \u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043E\u043D\u043D\u043E\
  , \u0447\u0442\u0435\u043D\u0438\u0435 \u0444\u0430\u0439\u043B\u043E\u0432 \u0432\
  \ \u044F\u0437\u044B\u043A\u0430\u0445 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\
  \u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0431\u044B\u043B\u043E\
  \ \u043C\u043D\u043E\u0433\u043E\u044D\u0442\u0430\u043F\u043D\u043E\u0439 \u0437\
  \u0430\u0434\u0430\u0447\u0435\u0439 \u0441 \u043C\u043D\u043E\u0436\u0435\u0441\
  \u0442\u0432\u043E\u043C \u0448\u0430\u0433\u043E\u0432 \u0434\u043B\u044F \u043E\
  \u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043E\u0448\u0438\u0431\u043E\u043A\
  \ \u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043E\u0432. \u0412\u2026"
lastmod: '2024-04-05T21:53:44.994650-06:00'
model: gpt-4-0125-preview
summary: "\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043E\u043D\u043D\u043E, \u0447\
  \u0442\u0435\u043D\u0438\u0435 \u0444\u0430\u0439\u043B\u043E\u0432 \u0432 \u044F\
  \u0437\u044B\u043A\u0430\u0445 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\
  \u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0431\u044B\u043B\u043E \u043C\u043D\
  \u043E\u0433\u043E\u044D\u0442\u0430\u043F\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\
  \u0447\u0435\u0439 \u0441 \u043C\u043D\u043E\u0436\u0435\u0441\u0442\u0432\u043E\
  \u043C \u0448\u0430\u0433\u043E\u0432 \u0434\u043B\u044F \u043E\u0431\u0440\u0430\
  \u0431\u043E\u0442\u043A\u0438 \u043E\u0448\u0438\u0431\u043E\u043A \u0438 \u0440\
  \u0435\u0441\u0443\u0440\u0441\u043E\u0432."
title: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0442\u0435\u043A\u0441\u0442\u043E\u0432\
  \u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0430"
weight: 22
---

## Как это сделать:
```Clojure
;; Чтение всего файла как строки
(slurp "example.txt")

;; Вывод: "Привет, это содержимое вашего файла!"

;; Построчное чтение файла
(with-open [reader (clojure.java.io/reader "example.txt")]
  (doseq [line (line-seq reader)]
    (println line)))

;; Вывод:
;; Привет,
;; это твое
;; содержимое файла!
```

## Подробнее
Традиционно, чтение файлов в языках программирования было многоэтапной задачей с множеством шагов для обработки ошибок и ресурсов. В Clojure вы получаете преимущество от функции `slurp`, изящной однострочной команды для захвата всего содержимого файла. Для построчного чтения, `line-seq`, в сочетании с `with-open`, обеспечивает эффективную и безопасную обработку файлов. Также стоит отметить, что хотя `slurp` удобна, она не идеальна для больших файлов из-за ограничений памяти. Вот тут-то и сияет `line-seq`, так как она читает файл лениво, по одной строке за раз.

Альтернативы чтению файлов в Clojure включают использование `clojure.java.io/file` с функциями вроде `reader` и конструкциями вроде `with-open` для ручного управления файловым дескриптором. Здесь компромисс между простотой использования (`slurp`) и тонким контролем в сочетании с безопасностью ресурсов (`with-open` и `reader`).

С точки зрения реализации, подход Clojure базируется на классах ввода-вывода Java, так что когда вы работаете с файлами в Clojure, вы работаете с зрелыми, хорошо протестированными библиотеками Java, обёрнутыми в функциональный идиом. Всегда обращайте внимание на ресурсы: открытые файлы потребляют дескрипторы и память, так что аккуратная работа с файлами - это хорошая привычка.

## Смотрите также
- ClojureDocs для `slurp`: https://clojuredocs.org/clojure.core/slurp
- ClojureDocs для `line-seq`: https://clojuredocs.org/clojure.core/line-seq
- Взаимодействие с Java в Clojure: https://clojure.org/reference/java_interop
- Работа с файлами в Clojure (Practical.li): https://practical.li/clojure/working-with-files.html
