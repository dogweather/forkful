---
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:01:50.352800-07:00
description: "\u041A\u0430\u043A \u044D\u0442\u043E \u0441\u0434\u0435\u043B\u0430\
  \u0442\u044C: Rust \u0434\u0435\u043B\u0430\u0435\u0442 \u043E\u043A\u0440\u0443\
  \u0433\u043B\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0441\u0442\u044B\u043C\
  . \u041F\u043E\u0441\u043C\u043E\u0442\u0440\u0438\u0442\u0435 \u043D\u0430 \u044D\
  \u0442\u0438 \u043C\u0435\u0442\u043E\u0434\u044B \u0434\u043B\u044F \u0442\u0438\
  \u043F\u043E\u0432 `f32` \u0438\u043B\u0438 `f64`."
lastmod: '2024-03-13T22:44:44.656539-06:00'
model: gpt-4-0125-preview
summary: "Rust \u0434\u0435\u043B\u0430\u0435\u0442 \u043E\u043A\u0440\u0443\u0433\
  \u043B\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0441\u0442\u044B\u043C."
title: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\u0441\
  \u0435\u043B"
weight: 13
---

## Как это сделать:
Rust делает округление простым. Посмотрите на эти методы для типов `f32` или `f64`:

```rust
fn main() {
    let num = 2.34567;

    // Округление до ближайшего целого числа
    let round = num.round();
    println!("Round: {}", round); // Round: 2

    // Пол – наибольшее целое число, меньшее или равное числу
    let floor = num.floor();
    println!("Floor: {}", floor); // Floor: 2

    // Потолок – наименьшее целое число, большее или равное числу
    let ceil = num.ceil();
    println!("Ceil: {}", ceil); // Ceil: 3

    // Усечение – целая часть без дробных разрядов
    let trunc = num.trunc();
    println!("Truncate: {}", trunc); // Truncate: 2

    // Округление до ближайшего кратного степени десяти
    let multiple_of_ten = (num * 100.0).round() / 100.0;
    println!("Rounded to 2 decimal places: {}", multiple_of_ten); // Rounded to 2 decimal places: 2.35
}
```

## Глубокое погружение
Исторически, округление было критически важно для умещения бесконечных десятичных дробей или иррациональных чисел в ограниченном цифровом пространстве – это было необходимо для древних компьютеров с ограниченной памятью. Подумайте об абаке, но менее изощренное, более математическое.

Альтернативы нативным методам Rust включают:
1. Макрос `format!` для форматирования строк, который по умолчанию округляет.
2. Внешние крейты для специализированных математических задач, такие как крейт `round` с более детальным контролем.

Под капотом, операции округления в Rust соответствуют стандартам IEEE – технический жаргон для "округляет так, как хочет ваш учитель математики". Кроме того, из-за двоичного представления, некоторые числа, такие как 0.1, не могут быть традиционно округлены из-за их бесконечного представления в двоичной форме.

## Смотрите также
- Документация Rust по методам примитивных типов: https://doc.rust-lang.org/std/primitive.f64.html
- Стандарт IEEE для арифметики с плавающей точкой (IEEE 754): https://ieeexplore.ieee.org/document/4610935
- Крейт "round" для более сложного округления: https://crates.io/crates/round
