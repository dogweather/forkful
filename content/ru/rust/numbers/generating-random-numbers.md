---
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:58:25.948747-07:00
description: "\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0441\u043B\u0443\
  \u0447\u0430\u0439\u043D\u044B\u0445 \u0447\u0438\u0441\u0435\u043B \u0432 Rust\
  \ \u0432\u043A\u043B\u044E\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044F\
  \ \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435\
  \ \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A \u0434\u043B\u044F \u043F\
  \u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0441\u0442\u0432\u0430 \u043D\u0435\u043F\
  \u0440\u0435\u0434\u0441\u043A\u0430\u0437\u0443\u0435\u043C\u044B\u0445 \u0447\u0438\
  \u0441\u043B\u043E\u0432\u044B\u0445 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439\
  , \u0447\u0442\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E\
  \ \u0434\u043B\u044F \u0437\u0430\u0434\u0430\u0447,\u2026"
lastmod: '2024-03-13T22:44:44.658344-06:00'
model: gpt-4-0125-preview
summary: "\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0441\u043B\u0443\
  \u0447\u0430\u0439\u043D\u044B\u0445 \u0447\u0438\u0441\u0435\u043B \u0432 Rust\
  \ \u0432\u043A\u043B\u044E\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044F\
  \ \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435\
  \ \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A \u0434\u043B\u044F \u043F\
  \u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0441\u0442\u0432\u0430 \u043D\u0435\u043F\
  \u0440\u0435\u0434\u0441\u043A\u0430\u0437\u0443\u0435\u043C\u044B\u0445 \u0447\u0438\
  \u0441\u043B\u043E\u0432\u044B\u0445 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439\
  , \u0447\u0442\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E\
  \ \u0434\u043B\u044F \u0437\u0430\u0434\u0430\u0447,\u2026"
title: "\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0441\u043B\u0443\u0447\
  \u0430\u0439\u043D\u044B\u0445 \u0447\u0438\u0441\u0435\u043B"
weight: 12
---

## Что и почему?

Генерация случайных чисел в Rust включает в себя использование библиотек для производства непредсказуемых числовых значений, что необходимо для задач, варьирующихся от криптографии и симуляций до игр и случайных алгоритмов.

## Как это сделать:

Rust полагается на внешние крейты для генерации случайных чисел, при этом `rand` является наиболее часто используемым. Чтобы начать генерацию случайных чисел, вам первым делом нужно добавить `rand` в ваш файл `Cargo.toml`:

```toml
[dependencies]
rand = "0.8.5"
```

Далее, вы можете генерировать случайные числа с использованием `rand` в вашем коде на Rust. Вот пример генерации случайного целого числа и числа с плавающей точкой:

```rust
use rand::{Rng, thread_rng};

fn main() {
    let mut rng = thread_rng();
    
    // Генерация случайного целого числа от 1 до 10
    let random_int: i32 = rng.gen_range(1..=10);
    println!("Случайное целое: {}", random_int);
    
    // Генерация случайного числа с плавающей точкой от 0.0 до 1.0
    let random_float: f64 = rng.gen::<f64>();
    println!("Случайное число с плавающей точкой: {}", random_float);
}
```

Пример вывода может быть следующим:

```plaintext
Случайное целое: 7
Случайное число с плавающей точкой: 0.9401077112175732
```

Обратите внимание, что повторный запуск программы будет выдавать разные значения.

## Подробнее

Генерация случайных чисел в Rust, осуществляемая благодаря `rand` и его зависимостям типа `getrandom`, представляет собой широкую абстракцию над возможностями операционных систем и алгоритмическими генераторами. Исторически случайность в вычислениях развивалась от простых, предсказуемых алгоритмов до сложных, криптографически безопасных методов. Подход Rust обобщает это развитие через его подключаемый трейт `Rng`, который может поддерживаться различными генераторами в соответствии с требуемым качеством случайности и производительностью.

Для большинства приложений полагаться на `rand` и RNG системы предоставляет хороший баланс между простотой и энтропией. Однако для криптографических приложений крейты типа `rand` обращаются к `getrandom` для начальной загрузки, который, в свою очередь, полагается на механизмы, специфичные для ОС (например, `/dev/urandom` в системах, подобных Unix), обеспечивая криптографически безопасную случайность.

В альтернативе, если у вас есть конкретные потребности, которые не удовлетворяются с помощью `rand`, изучение других крейтов или реализация пользовательских генераторов на основе математических моделей может быть путем. Тем не менее, для подавляющего большинства случаев использования `rand` и его экосистема предоставляют надежные решения, которые одновременно эффективны и просты в интеграции в приложения на Rust.
