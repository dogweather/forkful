---
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:58:23.598263-07:00
description: "\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0441\u043B\u0443\
  \u0447\u0430\u0439\u043D\u044B\u0445 \u0447\u0438\u0441\u0435\u043B \u0432 C# \u0432\
  \u043A\u043B\u044E\u0447\u0430\u0435\u0442 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\
  \u0435 \u043D\u0435\u043F\u0440\u0435\u0434\u0441\u043A\u0430\u0437\u0443\u0435\u043C\
  \u044B\u0445 \u0447\u0438\u0441\u043B\u043E\u0432\u044B\u0445 \u0437\u043D\u0430\
  \u0447\u0435\u043D\u0438\u0439 \u0432 \u0437\u0430\u0434\u0430\u043D\u043D\u043E\
  \u043C \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\u0435. \u041F\u0440\u043E\
  \u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0438\u0441\u043F\u043E\u043B\
  \u044C\u0437\u0443\u044E\u0442 \u044D\u0442\u0438 \u043C\u0435\u0442\u043E\u0434\
  \u044B \u0434\u043B\u044F \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\
  \u0438\u2026"
lastmod: '2024-03-13T22:44:45.048791-06:00'
model: gpt-4-0125-preview
summary: "\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0441\u043B\u0443\
  \u0447\u0430\u0439\u043D\u044B\u0445 \u0447\u0438\u0441\u0435\u043B \u0432 C# \u0432\
  \u043A\u043B\u044E\u0447\u0430\u0435\u0442 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\
  \u0435 \u043D\u0435\u043F\u0440\u0435\u0434\u0441\u043A\u0430\u0437\u0443\u0435\u043C\
  \u044B\u0445 \u0447\u0438\u0441\u043B\u043E\u0432\u044B\u0445 \u0437\u043D\u0430\
  \u0447\u0435\u043D\u0438\u0439 \u0432 \u0437\u0430\u0434\u0430\u043D\u043D\u043E\
  \u043C \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\u0435. \u041F\u0440\u043E\
  \u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0438\u0441\u043F\u043E\u043B\
  \u044C\u0437\u0443\u044E\u0442 \u044D\u0442\u0438 \u043C\u0435\u0442\u043E\u0434\
  \u044B \u0434\u043B\u044F \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\
  \u0438\u2026"
title: "\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0441\u043B\u0443\u0447\
  \u0430\u0439\u043D\u044B\u0445 \u0447\u0438\u0441\u0435\u043B"
---

{{< edit_this_page >}}

## Что и Почему?

Генерация случайных чисел в C# включает создание непредсказуемых числовых значений в заданном диапазоне. Программисты используют эти методы для реализации функций, таких как криптография, моделирования и игры, где требуется непредсказуемость или имитация реальной случайности.

## Как это сделать:

Наиболее распространенный способ генерации случайных чисел в C# - использование класса `System.Random`. Вот простой пример, демонстрирующий его использование:

```C#
using System;

public class RandomNumberExample
{
    static void Main(string[] args)
    {
        Random random = new Random();
        int randomNumber = random.Next(1, 100); // Генерирует число между 1 и 99
        Console.WriteLine($"Случайное число: {randomNumber}");
    }
}
```

Это выведет случайное число, например:

```
Случайное число: 42
```

Для генерации случайного числа с плавающей точкой между 0,0 и 1,0 можно использовать метод `NextDouble`:

```C#
double randomDouble = random.NextDouble();
Console.WriteLine($"Случайное число с плавающей точкой: {randomDouble}");
```

Если вы работаете над приложением, чувствительным к безопасности, которое требует криптографической случайности, лучше использовать класс `RNGCryptoServiceProvider`, найденный в `System.Security.Cryptography`:

```C#
using System;
using System.Security.Cryptography;

public class SecureRandomExample
{
    static void Main()
    {
        byte[] randomNumber = new byte[4]; // Создает 4-байтовое длинное случайное число
        using (RNGCryptoServiceProvider rng = new RNGCryptoServiceProvider())
        {
            rng.GetBytes(randomNumber);
        }
        int value = BitConverter.ToInt32(randomNumber, 0);
        Console.WriteLine($"Криптографически безопасное случайное число: {value}");
    }
}
```

## Глубокое погружение

Генерация случайных чисел в C# эволюционировала на протяжении многих лет. Изначально класс `System.Random` был основным выбором для генерации псевдослучайных чисел. Псевдослучайность заключается в том, что при заданном начальном значении генератор будет производить одну и ту же последовательность чисел, что может быть полезно для отладки или повторяемости тестов.

Хотя для базовых потребностей это достаточно, `System.Random` не является потокобезопасным и может производить предсказуемые результаты, что не подходит для приложений, зависящих от безопасности. Это ограничение привело к введению `RNGCryptoServiceProvider` для криптографической случайности, которая более безопасна, но также более ресурсоемка.

Альтернативой в .NET Core и .NET 5+ является класс `RandomNumberGenerator` в `System.Security.Cryptography` для безопасной генерации случайных чисел, который предназначен как более современный и удобный вариант по сравнению с `RNGCryptoServiceProvider`.

Каждый метод генерации случайных чисел в C# имеет свое место в зависимости от требований к приложению. Для большинства приложений достаточно `System.Random`, но для тех, которым требуются безопасные, непредсказуемые случайные числа, криптографические классы предоставляют надежную альтернативу.
