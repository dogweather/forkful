---
title:                "Журналирование"
aliases: - /ru/c-sharp/logging.md
date:                  2024-01-29T00:00:08.555126-07:00
model:                 gpt-4-0125-preview
simple_title:         "Журналирование"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c-sharp/logging.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Логирование - это процесс записи событий приложения и вывода данных во время выполнения. Программисты используют логирование для диагностики ошибок, мониторинга производительности программного обеспечения, отслеживания действий пользователей и обеспечения соответствия стандартам безопасности и бизнеса.

## Как это сделать:
В C# вы можете использовать встроенное пространство имен `System.Diagnostics` или сторонние библиотеки, такие как NLog или log4net. Вот быстрый пример использования интерфейса `ILogger`, доступного в .NET Core:

```C#
using Microsoft.Extensions.Logging;
using System;

public class Program
{
    public static void Main()
    {
        using var loggerFactory = LoggerFactory.Create(builder => {
            builder.AddConsole();
        });

        ILogger logger = loggerFactory.CreateLogger<Program>();

        logger.LogInformation("Это информационное сообщение.");
        logger.LogWarning("Это предупреждение.");
        logger.LogError("Это сообщение об ошибке.");
    }
}
```

Пример вывода:
```
info: Program[0]
      Это информационное сообщение.
warn: Program[0]
      Это предупреждение.
fail: Program[0]
      Это сообщение об ошибке.
```

## Подробнее
История логирования в разработке программного обеспечения почти так же стара, как и само программирование; она эволюционировала от простых операторов печати до сложных, настраиваемых систем. Изначально логирование осуществлялось путем записи в файлы или консоль, но теперь это расширяется до более сложных структур, таких как системы агрегации логов и платформы распределенного трассирования (например, ELK стек или Jaeger).

Альтернативы встроенному логированию в .NET включают сторонние библиотеки:
- **NLog**: универсальный и легкий в настройке с большим количеством функций для маршрутизации, форматирования и фильтрации логов.
- **log4net**: вдохновленный библиотекой Java log4j, он высоко настраиваем из XML и поддерживает разнообразие репозиториев логов.

Когда речь заходит о деталях реализации, выбор вашей абстракции логирования (например, Microsoft.Extensions.Logging) и подлежащего логирования провайдера может значительно повлиять на производительность и надежность вашего приложения. Крайне важно соответствующим образом настроить уровни логирования и убедиться, что запись логов не становится узким местом.

Также, структурированное логирование - когда вы логируете не просто строки, но пары ключ-значение или объекты - позволяет получать более точные и оперативные логи, которые легче запросить и проанализировать.

## См. также
- [Документация Microsoft.Extensions.Logging](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/)
- [Документация NLog](https://nlog-project.org/documentation/)
- [Документация log4net](https://logging.apache.org/log4net/)
- [Документация Serilog](https://serilog.net/) (пример структурированного логирования)
