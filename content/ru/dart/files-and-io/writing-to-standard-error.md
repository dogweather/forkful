---
changelog:
- 2024-03-08, OpenAIModel.GPT_4_TURBO, translated from English
date: 2024-03-08 21:58:05.543623-07:00
description: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\
  \u0434\u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\
  \u0448\u0438\u0431\u043E\u043A (stderr) \u043D\u0430 \u044F\u0437\u044B\u043A\u0435\
  \ Dart \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F \u0432\
  \ \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0441\u043E\u043E\u0431\u0449\
  \u0435\u043D\u0438\u0439 \u043E\u0431 \u043E\u0448\u0438\u0431\u043A\u0430\u0445\
  \ \u0438 \u0434\u0438\u0430\u0433\u043D\u043E\u0441\u0442\u0438\u0447\u0435\u0441\
  \u043A\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438\
  \ \u0432 \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u043E\u0442\
  \u043E\u043A,\u2026"
lastmod: '2024-03-11T00:14:18.140667-06:00'
model: gpt-4-0125-preview
summary: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A (stderr) \u043D\u0430 \u044F\u0437\u044B\u043A\u0435 Dart\
  \ \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F \u0432 \u043E\
  \u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\
  \u0438\u0439 \u043E\u0431 \u043E\u0448\u0438\u0431\u043A\u0430\u0445 \u0438 \u0434\
  \u0438\u0430\u0433\u043D\u043E\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0439\
  \ \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438 \u0432 \u043E\u0442\
  \u0434\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A,\u2026"
title: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u0432\u044B\u0432\u043E\u0434 \u043E\u0448\
  \u0438\u0431\u043E\u043A"
---

{{< edit_this_page >}}

## Что и Почему?

Запись в стандартный поток ошибок (stderr) на языке Dart заключается в отправке сообщений об ошибках и диагностической информации в отдельный поток, отличный от стандартного вывода (stdout). Программисты делают это для разграничения между обычным выводом программы и ошибками или предупреждающими сообщениями, что позволяет легче отлаживать и вести журнал событий.

## Как это сделать:

В Dart запись в stderr выполнить довольно просто с помощью объекта `stderr`, доступного в `dart:io`. Вот простой пример:

```dart
import 'dart:io';

void main() {
  stderr.writeln('Это сообщение об ошибке.');
}
```

Вывод при выполнении:
```
Это сообщение об ошибке.
```
Это сообщение отправляется в поток stderr, который обычно отображается в консоли или терминале.

Чтобы продемонстрировать более сложный пример, например, ведение журнала исключений, богатый набор возможностей Dart позволяет эффективно и лаконично обрабатывать ошибки:

```dart
import 'dart:io';

void riskyOperation() {
  try {
    // Имитация операции, которая может вызвать исключение
    throw Exception('Что-то пошло не так!');
  } catch (e) {
    stderr.writeln('Ошибка: $e');
  }
}

void main() {
  riskyOperation();
}
```

Вывод при выполнении:
```
Ошибка: Exception: Что-то пошло не так!
```

Этот паттерн особенно полезен для приложений, которым необходимо разделить обычные журналы от журналов ошибок, что упрощает мониторинг и отладку приложений.

Хотя стандартная библиотека Dart довольно обширна, многие программы не требуют сторонних библиотек для записи в stderr. Однако, если вашему приложению нужны более сложные возможности логгирования (например, в файлы, через сеть, форматирование), пакет `logging` является популярным выбором. Вот быстрый пример использования `logging` для ошибок:

```dart
import 'dart:io';
import 'package:logging/logging.dart';

final logger = Logger('MyAppLogger');

void setupLogging() {
  logger.onRecord.listen((record) {
    if (record.level >= Level.SEVERE) {
      stderr.writeln('${record.level.name}: ${record.time}: ${record.message}');
    }
  });
}

void main() {
  setupLogging();
  logger.severe('Серьезная ошибка: Случилось что-то очень плохое.');
}
```

Вывод при выполнении:
```
SEVERE: 2023-04-01 00:00:00.000: Серьезная ошибка: Случилось что-то очень плохое.
```

Этот метод предлагает более высокую степень кастомизации и контроля над тем, что записывается как ошибка и как это форматируется, что может быть очень полезно в больших и более сложных приложениях.
