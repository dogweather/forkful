---
changelog:
- 2024-02-01, gpt-4-0125-preview, translated from English
date: 2024-02-01 22:01:08.183419-07:00
description: "\u041A\u0430\u043A: Google Apps Script, \u043A\u0430\u043A \u044F\u0437\
  \u044B\u043A, \u043E\u0441\u043D\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043D\
  \u0430 JavaScript, \u043F\u0440\u0435\u0434\u043B\u0430\u0433\u0430\u0435\u0442\
  \ \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u044B\u0435 \u043C\u0435\
  \u0442\u043E\u0434\u044B \u0434\u043B\u044F \u043E\u043A\u0440\u0443\u0433\u043B\
  \u0435\u043D\u0438\u044F \u0447\u0438\u0441\u0435\u043B. \u0412\u043E\u0442 \u0440\
  \u0430\u0437\u0431\u0438\u0432\u043A\u0430 \u0442\u0440\u0435\u0445 \u0447\u0430\
  \u0441\u0442\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\
  \u0445\u2026"
lastmod: '2024-03-13T22:44:44.181091-06:00'
model: gpt-4-0125-preview
summary: "Google Apps Script, \u043A\u0430\u043A \u044F\u0437\u044B\u043A, \u043E\u0441\
  \u043D\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043D\u0430 JavaScript, \u043F\
  \u0440\u0435\u0434\u043B\u0430\u0433\u0430\u0435\u0442 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0435 \u043C\u0435\u0442\u043E\u0434\u044B \u0434\
  \u043B\u044F \u043E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u044F \u0447\
  \u0438\u0441\u0435\u043B."
title: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\u0441\
  \u0435\u043B"
weight: 13
---

## Как:
Google Apps Script, как язык, основанный на JavaScript, предлагает стандартные методы для округления чисел. Вот разбивка трех часто используемых техник:

### Math.round()
Эта функция округляет число до ближайшего целого.

```javascript
var number = 2.56;
var roundedNumber = Math.round(number); 
Logger.log(roundedNumber); // Выводит: 3
```

### Math.ceil()
Округляет число в большую сторону до ближайшего целого.

```javascript
var number = 2.56;
var roundedUp = Math.ceil(number); 
Logger.log(roundedUp); // Выводит: 3
```

### Math.floor()
Наоборот, округляет число в меньшую сторону до ближайшего целого.

```javascript
var number = 2.56;
var roundedDown = Math.floor(number); 
Logger.log(roundedDown); // Выводит: 2
```

Для округления до конкретного количества десятичных знаков можно использовать `.toFixed()`, которая на самом деле возвращает строку, или более тонкий подход для математического округления:

```javascript
var number = 2.56789;
var fixedNumber = number.toFixed(2); 
Logger.log(fixedNumber); // Выводит: "2.57" (как строку)

var preciseRound = Math.round(number * 100) / 100; 
Logger.log(preciseRound); // Выводит: 2.57
```

## Глубокое погружение
Округление чисел в Google Apps Script не сильно отличается от того, как это делается в других средах JavaScript. Однако, понимание различий в методах округления и потенциальных проблем, связанных с арифметикой с плавающей точкой, имеет решающее значение. Например, из-за способа, которым компьютеры представляют числа с плавающей точкой, не все десятичные дроби могут быть представлены с идеальной точностью, что приводит к иногда неожиданным результатам округления.

Исторически, JavaScript (и, соответственно, Google Apps Script) справляется с этим, соответствуя стандарту IEEE 754, который используется многими другими языками программирования для арифметики с плавающей точкой. Этот стандарт определяет, как числа округляются, обеспечивая консистенцию на различных платформах и языках.

Хотя прямые методы округления в Google Apps Script являются простыми и часто достаточными, сложные или высокоточные приложения могут извлечь выгоду из библиотек, таких как decimal.js или big.js, которые разработаны для выполнения арифметики с произвольной точностью. Они могут быть особенно полезны при работе с финансовыми или научными расчетами, где точность округленных чисел имеет первостепенное значение.

Однако помните, что использование внешних библиотек в Google Apps Script требует их загрузки через редактор скриптов, что может ввести зависимости или повлиять на производительность вашего скрипта в зависимости от способа использования. Во многих случаях встроенные методы Math полностью достаточны, но для тех крайних случаев, когда требуется точность до n-ного знака, просмотр за пределами стандартной библиотеки может быть необходимым.
