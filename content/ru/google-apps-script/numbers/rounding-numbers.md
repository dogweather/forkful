---
changelog:
- 2024-02-01, gpt-4-0125-preview, translated from English
date: 2024-02-01 22:01:08.183419-07:00
description: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\
  \u0441\u0435\u043B \u2014 \u0444\u0443\u043D\u0434\u0430\u043C\u0435\u043D\u0442\
  \u0430\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043D\u044F\u0442\u0438\u0435\
  \ \u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\
  \u0430\u043D\u0438\u0438, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u043F\u0440\
  \u0435\u0434\u043F\u043E\u043B\u0430\u0433\u0430\u0435\u0442 \u043A\u043E\u0440\u0440\
  \u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043A\u0443 \u0447\u0438\u0441\u043B\u0430\
  \ \u0434\u043E \u0435\u0433\u043E \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\
  \u0433\u043E \u0446\u0435\u043B\u043E\u0433\u043E \u0438\u043B\u0438 \u0434\u043E\
  \ \u0437\u0430\u0434\u0430\u043D\u043D\u043E\u0433\u043E\u2026"
lastmod: '2024-02-25T18:49:41.939149-07:00'
model: gpt-4-0125-preview
summary: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\
  \u0441\u0435\u043B \u2014 \u0444\u0443\u043D\u0434\u0430\u043C\u0435\u043D\u0442\
  \u0430\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043D\u044F\u0442\u0438\u0435\
  \ \u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\
  \u0430\u043D\u0438\u0438, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u043F\u0440\
  \u0435\u0434\u043F\u043E\u043B\u0430\u0433\u0430\u0435\u0442 \u043A\u043E\u0440\u0440\
  \u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043A\u0443 \u0447\u0438\u0441\u043B\u0430\
  \ \u0434\u043E \u0435\u0433\u043E \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\
  \u0433\u043E \u0446\u0435\u043B\u043E\u0433\u043E \u0438\u043B\u0438 \u0434\u043E\
  \ \u0437\u0430\u0434\u0430\u043D\u043D\u043E\u0433\u043E\u2026"
title: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\u0441\
  \u0435\u043B"
---

{{< edit_this_page >}}

## Что и почему?

Округление чисел — фундаментальное понятие в программировании, которое предполагает корректировку числа до его ближайшего целого или до заданного количества десятичных знаков. Программисты часто выполняют округление, чтобы упростить числа для удобства восприятия людьми или чтобы удовлетворить конкретным потребностям в расчетах, обеспечивая точность и снижая вычислительную нагрузку.

## Как:

Google Apps Script, как язык, основанный на JavaScript, предлагает стандартные методы для округления чисел. Вот разбивка трех часто используемых техник:

### Math.round()
Эта функция округляет число до ближайшего целого.

```javascript
var number = 2.56;
var roundedNumber = Math.round(number); 
Logger.log(roundedNumber); // Выводит: 3
```

### Math.ceil()
Округляет число в большую сторону до ближайшего целого.

```javascript
var number = 2.56;
var roundedUp = Math.ceil(number); 
Logger.log(roundedUp); // Выводит: 3
```

### Math.floor()
Наоборот, округляет число в меньшую сторону до ближайшего целого.

```javascript
var number = 2.56;
var roundedDown = Math.floor(number); 
Logger.log(roundedDown); // Выводит: 2
```

Для округления до конкретного количества десятичных знаков можно использовать `.toFixed()`, которая на самом деле возвращает строку, или более тонкий подход для математического округления:

```javascript
var number = 2.56789;
var fixedNumber = number.toFixed(2); 
Logger.log(fixedNumber); // Выводит: "2.57" (как строку)

var preciseRound = Math.round(number * 100) / 100; 
Logger.log(preciseRound); // Выводит: 2.57
```

## Глубокое погружение

Округление чисел в Google Apps Script не сильно отличается от того, как это делается в других средах JavaScript. Однако, понимание различий в методах округления и потенциальных проблем, связанных с арифметикой с плавающей точкой, имеет решающее значение. Например, из-за способа, которым компьютеры представляют числа с плавающей точкой, не все десятичные дроби могут быть представлены с идеальной точностью, что приводит к иногда неожиданным результатам округления.

Исторически, JavaScript (и, соответственно, Google Apps Script) справляется с этим, соответствуя стандарту IEEE 754, который используется многими другими языками программирования для арифметики с плавающей точкой. Этот стандарт определяет, как числа округляются, обеспечивая консистенцию на различных платформах и языках.

Хотя прямые методы округления в Google Apps Script являются простыми и часто достаточными, сложные или высокоточные приложения могут извлечь выгоду из библиотек, таких как decimal.js или big.js, которые разработаны для выполнения арифметики с произвольной точностью. Они могут быть особенно полезны при работе с финансовыми или научными расчетами, где точность округленных чисел имеет первостепенное значение.

Однако помните, что использование внешних библиотек в Google Apps Script требует их загрузки через редактор скриптов, что может ввести зависимости или повлиять на производительность вашего скрипта в зависимости от способа использования. Во многих случаях встроенные методы Math полностью достаточны, но для тех крайних случаев, когда требуется точность до n-ного знака, просмотр за пределами стандартной библиотеки может быть необходимым.
