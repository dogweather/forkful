---
changelog:
- 2024-02-01, gpt-4-0125-preview, translated from English
date: 2024-02-01 22:09:18.988443-07:00
description: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\
  \u0434\u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\
  \u0448\u0438\u0431\u043E\u043A (stderr) \u0432 \u044F\u0437\u044B\u043A\u0430\u0445\
  \ \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\u0430\
  \u043D\u0438\u044F \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F\
  \ \u0432 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0438 \u0441\
  \u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u043E\u0431 \u043E\u0448\u0438\
  \u0431\u043A\u0430\u0445 \u0438 \u0434\u0438\u0430\u0433\u043D\u043E\u0441\u0442\
  \u0438\u0447\u0435\u0441\u043A\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\
  \u0446\u0438\u0438 \u0432\u2026"
lastmod: '2024-03-13T22:44:44.222419-06:00'
model: gpt-4-0125-preview
summary: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A (stderr) \u0432 \u044F\u0437\u044B\u043A\u0430\u0445 \u043F\
  \u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\
  \u044F \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F \u0432\
  \ \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0438 \u0441\u043E\
  \u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u043E\u0431 \u043E\u0448\u0438\u0431\
  \u043A\u0430\u0445 \u0438 \u0434\u0438\u0430\u0433\u043D\u043E\u0441\u0442\u0438\
  \u0447\u0435\u0441\u043A\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\
  \u0438\u0438 \u0432\u2026"
title: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A"
---

{{< edit_this_page >}}

## Что и почему?

Запись в стандартный поток ошибок (stderr) в языках программирования заключается в направлении сообщений об ошибках и диагностической информации в отдельный поток, отличный от стандартного вывода (stdout). Программисты делают это, чтобы разделить нормальный вывод программы и сообщения об ошибках, что облегчает отладку и анализ логов.

## Как это сделать:

Google Apps Script, являясь языком сценариев для разработки легковесных приложений на платформе Google Apps, не предоставляет прямой встроенной функции типа `console.error()` для записи в stderr, как вы могли бы найти в Node.js или Python. Однако, вы можете симулировать это поведение, используя службы логирования Google Apps Script или собственную обработку ошибок для управления и разделения вывода ошибок.

### Пример: Использование `Logger` для сообщений об ошибках

```javascript
function logError() {
  try {
    // Симуляция ошибки
    const result = 1 / 0;
    if(!isFinite(result)) throw new Error("Попытка деления на ноль");
  } catch (e) {
    // Запись сообщения об ошибке в логи
    Logger.log('Ошибка: ' + e.message);
  }
}
```

Когда вы запускаете `logError()`, это записывает сообщение об ошибке в лог Google Apps Script, который вы можете просмотреть через `Просмотр > Логи`. Это не совсем stderr, но выполняется аналогичная функция разделения журналов ошибок от стандартных выводов.

### Расширенное диагностическое логирование

Для более продвинутой отладки и логирования ошибок вы можете использовать Stackdriver Logging, теперь известное как Набор операций Google Cloud.

```javascript
function advancedErrorLogging() {
  try {
    // Сознательное вызывание ошибки
    const obj = null;
    const result = obj.someProperty;
  } catch (e) {
    console.error('Обнаружена ошибка: ', e.toString());
  }
}
```

Это направит сообщение об ошибке в Stackdriver Logging, где оно будет управляться как журнал уровня ошибки. Отметим, что интеграция Stackdriver/Набора операций Google Cloud предлагает более детальное и удобное для поиска решение для логирования по сравнению с `Logger`.

## Глубокое погружение

Отсутствие выделенного потока `stderr` в Google Apps Script отражает его природу и происхождение как облачного языка сценариев, где традиционные консольные или терминальные выводы (такие как stdout и stderr) менее актуальны. Исторически Google Apps Script был разработан для повышения функциональности Google Apps с помощью простых скриптов, сосредоточиваясь на простоте использования в ущерб комплексным функциям, доступным в более сложных средах программирования.

Тем не менее, эволюция Google Apps Script в сторону более сложной разработки приложений побудила разработчиков придумывать творческие подходы к обработке ошибок и логированию, используя доступные службы, такие как Logger, и интегрируясь с Набором операций Google Cloud. Эти методы, хоть и не являются прямыми реализациями stderr, предлагают надежные альтернативы для управления ошибками и диагностического логирования в облачно-ориентированной среде.

Критически важно, что, хотя эти методы служат своей цели в экосистеме Google Apps Script, они подчеркивают ограничения платформы по сравнению с традиционными средами программирования. Для разработчиков, требующих детальных и иерархических стратегий обработки ошибок, интеграция с внешними службами логирования или применение Google Cloud Functions, которые предлагают более традиционную обработку stderr и stdout, может быть предпочтительнее.
