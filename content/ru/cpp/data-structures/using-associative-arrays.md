---
title:                "Использование ассоциативных массивов"
aliases: - /ru/cpp/using-associative-arrays.md
date:                  2024-01-30T19:10:40.290041-07:00
model:                 gpt-4-0125-preview
simple_title:         "Использование ассоциативных массивов"

tag:                  "Data Structures"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/cpp/using-associative-arrays.md"
changelog:
  - 2024-01-30, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и зачем?

Ассоциативные массивы, известные в C++ как `std::map` или `std::unordered_map`, закрывают пробел между индексами массивов и данными реального мира, позволяя использовать значимые ключи. Они являются предпочтительным выбором, когда требуется быстрый поиск, вставка и удаление, используя ключи, а не позиции индексов.

## Как использовать:

В C++, ассоциативные массивы оживают с помощью заголовков `<map>` и `<unordered_map>`. Давайте рассмотрим примеры, чтобы увидеть их в действии.

### Использование `std::map`

`std::map` хранит элементы, отсортированные на основе ключа. Вот как начать:

```C++
#include <iostream>
#include <map>
#include <string>

int main() {
    std::map<std::string, int> ageMap;
    
    // Вставка значений
    ageMap["Alice"] = 30;
    ageMap["Bob"] = 25;
    
    // Доступ к значениям
    std::cout << "Возраст Боба: " << ageMap["Bob"] << std::endl;
    
    // Перебор map
    for(const auto &pair : ageMap) {
        std::cout << pair.first << " имеет возраст " << pair.second << " лет." << std::endl;
    }
    
    return 0;
}
```

### Использование `std::unordered_map`

Когда порядок не имеет значения, но важна производительность, `std::unordered_map` ваш выбор, предлагая более быструю среднюю сложность для вставок, поиска и удалений.

```C++
#include <iostream>
#include <unordered_map>
#include <string>

int main() {
    std::unordered_map<std::string, double> productPrice;
    
    // Вставка значений
    productPrice["milk"] = 2.99;
    productPrice["bread"] = 1.99;
    
    // Доступ к значениям
    std::cout << "Цена молока: $" << productPrice["milk"] << std::endl;
    
    // Перебор unordered_map
    for(const auto &pair : productPrice) {
        std::cout << pair.first << " стоит $" << pair.second << std::endl;
    }
    
    return 0;
}
```

## Глубокое погружение

Ассоциативные массивы в C++, особенно `std::map` и `std::unordered_map`, не просто о хранении элементов. Они обеспечивают основу для более сложного управления данными, позволяя осуществлять операции поиска, вставки и удаления за эффективное время (логарифмическая сложность для `std::map` и константа в среднем случае для `std::unordered_map`). Эффективность обусловлена используемыми внутренними структурами данных: сбалансированным деревом для `std::map` и хеш-таблицей для `std::unordered_map`.

Исторически, до их включения в стандартную библиотеку, программисты должны были реализовывать собственные версии или использовать сторонние библиотеки, что приводило к несоответствиям и потенциальным неэффективностям. Включение карт в стандартную библиотеку C++ не только стандартизировало их использование, но и оптимизировало для повышения производительности на разных компиляторах и платформах.

Хотя оба варианта мощные, выбор между `std::map` и `std::unordered_map` зависит от конкретики вашего случая. Нужны упорядоченные данные и небольшая потеря производительности не критична? Используйте `std::map`. Если вам важна скорость и порядок не важен, `std::unordered_map` вероятно будет лучшим выбором.

Однако важно отметить, что при работе со сложными структурами данных всегда есть компромиссы. В некоторых узкоспециализированных случаях другие структуры данных или даже сторонние библиотеки могут предложить лучшую производительность или функциональность, подходящую для ваших конкретных потребностей. Всегда взвешивайте свои варианты на основе требований вашего проекта.
