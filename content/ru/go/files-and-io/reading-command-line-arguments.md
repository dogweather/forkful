---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 18:06:33.701589-07:00
description: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\
  \u043D\u0442\u043E\u0432 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439\
  \ \u0441\u0442\u0440\u043E\u043A\u0438 \u0432 Go \u0437\u0430\u043A\u043B\u044E\u0447\
  \u0430\u0435\u0442\u0441\u044F \u0432 \u0438\u0437\u0432\u043B\u0435\u0447\u0435\
  \u043D\u0438\u0438 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u043E\u0432\
  , \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\
  \u044B\u0445 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0435 \u0432\u043E\
  \ \u0432\u0440\u0435\u043C\u044F \u0435\u0451 \u0432\u044B\u0437\u043E\u0432\u0430\
  \ \u0438\u0437 \u0442\u0435\u0440\u043C\u0438\u043D\u0430\u043B\u0430 \u0438\u043B\
  \u0438 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439\u2026"
lastmod: '2024-03-13T22:44:44.140102-06:00'
model: gpt-4-0125-preview
summary: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\
  \u043D\u0442\u043E\u0432 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439\
  \ \u0441\u0442\u0440\u043E\u043A\u0438 \u0432 Go \u0437\u0430\u043A\u043B\u044E\u0447\
  \u0430\u0435\u0442\u0441\u044F \u0432 \u0438\u0437\u0432\u043B\u0435\u0447\u0435\
  \u043D\u0438\u0438 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u043E\u0432\
  , \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\
  \u044B\u0445 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0435 \u0432\u043E\
  \ \u0432\u0440\u0435\u043C\u044F \u0435\u0451 \u0432\u044B\u0437\u043E\u0432\u0430\
  \ \u0438\u0437 \u0442\u0435\u0440\u043C\u0438\u043D\u0430\u043B\u0430 \u0438\u043B\
  \u0438 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439 \u0441\u0442\u0440\
  \u043E\u043A\u0438."
title: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\
  \u0442\u043E\u0432 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439 \u0441\
  \u0442\u0440\u043E\u043A\u0438"
weight: 23
---

## Что и почему?

Чтение аргументов командной строки в Go заключается в извлечении аргументов, предоставленных программе во время её вызова из терминала или командной строки. Программисты делают это для настройки выполнения программы без изменения кода, что делает приложения более гибкими и ориентированными на пользователя.

## Как это сделать:

Go предоставляет прямой доступ к аргументам командной строки через пакет `os`, а именно используя `os.Args`, массив строк. Вот простой пример для начала:

```go
package main

import (
    "fmt"
    "os"
)

func main() {
    // os.Args предоставляет доступ к аргументам командной строки
    fmt.Println("Аргументы командной строки:", os.Args)

    if len(os.Args) > 1 {
        // Цикл по аргументам, пропуская первый (имя программы)
        for i, arg := range os.Args[1:] {
            fmt.Printf("Аргумент %d: %s\n", i+1, arg)
        }
    } else {
        fmt.Println("Аргументы командной строки не предоставлены.")
    }
}
```

Пример вывода при запуске с `go run yourprogram.go arg1 arg2` может выглядеть так:

```
Аргументы командной строки: [/tmp/go-build123456789/b001/exe/yourprogram arg1 arg2]
Аргумент 1: arg1
Аргумент 2: arg2
```

Здесь выводятся все аргументы, включая имя программы (часто на индексе 0), затем перебираются каждый предоставленный аргумент, выводя их. Для более управляемого разбора аргументов можно рассмотреть пакет `flag` для разбора параметров командной строки.

## Глубокое погружение

Исторически, доступ к аргументам командной строки - это практика, настолько же старая, как и программирование на языке C, где `argc` и `argv[]` выполняют аналогичную функцию. В Go `os.Args` делает это простым, но преднамеренно элементарным образом. Для более сложных сценариев, таких как обработка флагов или опций, Go предлагает пакет `flag`, который обеспечивает надежные возможности разбора. Это может рассматриваться как "лучшая" альтернатива, когда вашему приложению требуется больше, чем просто позиционные аргументы.

В отличие от некоторых скриптовых языков, которые предлагают встроенный разбор аргументов командной строки в ассоциативные массивы или объекты, подход Go требует, чтобы программисты либо самостоятельно обрабатывали разбор, используя `os.Args` для базовых потребностей, либо использовали пакет `flag` для более продвинутых сценариев. Этот дизайн отражает философию Go о сохранении простоты ядра языка, предоставляя при этом мощные стандартные библиотеки для распространенных задач. Хотя это может вводить небольшой изгиб кривой обучения для тех, кто привык к встроенному разбору, это предлагает большую гибкость и способствует более глубокому пониманию обработки аргументов командной строки.
