---
title:                "Использование отладчика"
aliases:
- /ru/bash/using-a-debugger.md
date:                  2024-01-29T00:03:28.765724-07:00
model:                 gpt-4-0125-preview
simple_title:         "Использование отладчика"

tag:                  "Testing and Debugging"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/bash/using-a-debugger.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и почему?
Использование отладчика в Bash означает применение инструментов для тестирования и поиска проблем в ваших скриптах, например, для обнаружения ошибок, которые вызывают сбои в коде или незаметно заставляют его работать некорректно. Программисты делают это, потому что гораздо умнее обнаружить ошибки до того, как они причинят хаос в рабочей среде.

## Как:
Bash изначально не поставляется с встроенным отладчиком, как некоторые другие языки, но вы можете использовать встроенные команды, такие как `set -x`, чтобы отслеживать, что происходит. Или, как более продвинутый вариант, есть `bashdb` - полноценный отладчик для пошагового прохождения вашего кода. Вот короткий обзор:

```Bash
# Использование set -x для отладки
set -x
echo "Начинаем отладку"
my_var="Привет, мир отладки!"
echo $my_var
set +x

# Использование bashdb
# Установите bashdb с помощью вашего менеджера пакетов, например, apt, yum, brew.
# Отладка скрипта под названием my_script.sh:
bashdb my_script.sh
```

Вывод при запуске с `set -x`:
```Bash
+ echo 'Начинаем отладку'
Начинаем отладку
+ my_var='Привет, мир отладки!'
+ echo 'Привет, мир отладки!'
Привет, мир отладки!
+ set +x
```

## Подробнее
Исторически, отладка Bash-скриптов означала разброс вашего кода по `echo`-сообщениям. Но затем появился `set -x`, давая нам возможность заглянуть в выполнение в реальном времени без ручных выводов. И для тех, кто жаждет большего контроля, появился отладчик `bashdb`, вдохновленный отладчиком gdb для C/C++.

Что касается альтернатив, помимо команд `set` (`-x`, `-v`, `-e`), другие опции включают перенаправление вывода в файл для анализа или использование внешних инструментов, таких как ShellCheck, для статического анализа.

С точки зрения реализации, `set -x` прост в использовании; это нативная опция Bash, которая выводит команды и их аргументы по мере исполнения. `bashdb`, с другой стороны, позволяет пошагово проходить через код, устанавливать точки останова и оценивать выражения - вещи, которые дают вам шанс в борьбе с более неуловимыми ошибками.

## Смотрите также
- Проект Bash Debugger: http://bashdb.sourceforge.net/
- "Профессиональное программирование на Bash" от Криса Джонсона и Джаянта Вармы для продвинутого скриптинга.
- ShellCheck для статического анализа: https://www.shellcheck.net/
