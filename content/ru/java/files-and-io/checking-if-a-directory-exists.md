---
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:55:40.389106-07:00
description: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0441\u0443\u0449\u0435\
  \u0441\u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u043A\u0430\u0442\u0430\u043B\
  \u043E\u0433\u0430 \u043E\u0437\u043D\u0430\u0447\u0430\u0435\u0442 \u0432\u0435\
  \u0440\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044E \u0435\u0433\u043E \u043D\
  \u0430\u043B\u0438\u0447\u0438\u044F \u043F\u0435\u0440\u0435\u0434 \u0442\u0435\
  \u043C, \u043A\u0430\u043A \u043F\u043E\u043F\u044B\u0442\u0430\u0442\u044C\u0441\
  \u044F \u0447\u0442\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0437\u0430\u043F\
  \u0438\u0441\u044C \u0444\u0430\u0439\u043B\u043E\u0432 \u0432 \u043D\u0435\u043C\
  . \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\
  \u0435\u043B\u0430\u044E\u0442 \u044D\u0442\u043E, \u0447\u0442\u043E\u0431\u044B\
  \u2026"
lastmod: '2024-03-11T00:14:18.454828-06:00'
model: gpt-4-0125-preview
summary: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0441\u0443\u0449\u0435\
  \u0441\u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u043A\u0430\u0442\u0430\u043B\
  \u043E\u0433\u0430 \u043E\u0437\u043D\u0430\u0447\u0430\u0435\u0442 \u0432\u0435\
  \u0440\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044E \u0435\u0433\u043E \u043D\
  \u0430\u043B\u0438\u0447\u0438\u044F \u043F\u0435\u0440\u0435\u0434 \u0442\u0435\
  \u043C, \u043A\u0430\u043A \u043F\u043E\u043F\u044B\u0442\u0430\u0442\u044C\u0441\
  \u044F \u0447\u0442\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0437\u0430\u043F\
  \u0438\u0441\u044C \u0444\u0430\u0439\u043B\u043E\u0432 \u0432 \u043D\u0435\u043C\
  . \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\
  \u0435\u043B\u0430\u044E\u0442 \u044D\u0442\u043E, \u0447\u0442\u043E\u0431\u044B\
  \u2026"
title: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0441\u0443\u0449\u0435\u0441\
  \u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u0434\u0438\u0440\u0435\u043A\u0442\
  \u043E\u0440\u0438\u0438"
---

{{< edit_this_page >}}

## Что и зачем?
Проверка существования каталога означает верификацию его наличия перед тем, как попытаться чтение или запись файлов в нем. Программисты делают это, чтобы избежать ошибок, например, попытки сохранения файла там, где нет места для его размещения.

## Как это сделать:
Вот как проверить существует ли каталог с `java.nio.file`:

```java
import java.nio.file.Files;
import java.nio.file.Path;

public class DirectoryCheck {

    public static void main(String[] args) {
        Path directoryPath = Path.of("/path/to/directory");

        // Проверяем, существует ли каталог
        boolean directoryExists = Files.exists(directoryPath);

        // Выводим результат
        System.out.println("Существует ли каталог? " + directoryExists);
    }
}
```

Если вы запустите это, в вашей консоли просто отобразится:

```
Существует ли каталог? true // или false
```

Ударяйте.

## Погружение в детали
В прошлом люди использовали метод `java.io.File.exists()`. Но теперь актуальность приобрел `java.nio.file.Files.exists(Path)`, поскольку он более универсален. С помощью того же API вы также можете проверять атрибуты файла.

Но это еще не все. Метод `Files.exists` не является непробиваемым — есть условия гонки. Что, если с каталогом что-то случится сразу после проверки? Бац, и операция проваливается. Чтобы этого избежать, используйте `Files.exists` с осторожностью и корректно обрабатывайте исключения при выполнении операций с файлами.

В качестве альтернативы, вы можете просто попытаться выполнить операцию с файлом и поймать возможное исключение `NoSuchFileException`. Это известно как подход "легче просить прощения, чем разрешения" (EAFP) против "смотри прежде, чем прыгнуть" (LBYL), который использует `Files.exists()`.

## Смотрите также
- [Files.exists()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...))
- [Ввод и вывод файлов в Java](https://docs.oracle.com/javase/tutorial/essential/io/)
- Классная статья о EAFP против LBYL: [Принцип EAFP](https://devblogs.microsoft.com/python/idiomatic-python-eafp-versus-lbyl/)
