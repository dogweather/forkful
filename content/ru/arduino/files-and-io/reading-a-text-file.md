---
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:00:51.979666-07:00
description: "\u041A\u0430\u043A \u044D\u0442\u043E \u0441\u0434\u0435\u043B\u0430\
  \u0442\u044C: \u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u0432\u044B\
  \u0432\u043E\u0434 \u0432 \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0435 \u043F\
  \u043E\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u043E\
  \u0433\u043E \u043F\u043E\u0440\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\
  \u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0442\u0435\u043A\u0441\u0442\
  \ \u0438\u0437 `example.txt`, \u0435\u0441\u043B\u0438 \u0432\u0441\u0435 \u043F\
  \u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E \u043F\u043E\u0434\u043A\u043B\u044E\
  \u0447\u0435\u043D\u043E \u0438\u2026"
lastmod: '2024-04-05T21:53:45.958253-06:00'
model: gpt-4-0125-preview
summary: "\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0439 \u0432\u044B\u0432\
  \u043E\u0434 \u0432 \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0435 \u043F\u043E\
  \u0441\u043B\u0435\u0434\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0433\
  \u043E \u043F\u043E\u0440\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\u043E\
  \u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0442\u0435\u043A\u0441\u0442 \u0438\
  \u0437 `example.txt`, \u0435\u0441\u043B\u0438 \u0432\u0441\u0435 \u043F\u0440\u0430\
  \u0432\u0438\u043B\u044C\u043D\u043E \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\
  \u043D\u043E \u0438 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\
  \u0440\u043E\u0432\u0430\u043D\u043E."
title: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0442\u0435\u043A\u0441\u0442\u043E\u0432\
  \u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0430"
weight: 22
---

## Как это сделать:
```Arduino
#include <SPI.h>
#include <SD.h>

File myFile;

void setup() {
  Serial.begin(9600);
  while (!Serial) {
    ; // ждем подключения к последовательному порту.
  }

  if (!SD.begin(4)) {
    Serial.println("Инициализация не удалась!");
    return;
  }

  myFile = SD.open("example.txt");
  if (myFile) {
    while (myFile.available()) {
      Serial.write(myFile.read());
    }
    myFile.close();
  } else {
    Serial.println("Ошибка при открытии example.txt");
  }
}

void loop() {
  // после настройки ничего не происходит
}
```

Ожидаемый вывод в мониторе последовательного порта будет содержать текст из `example.txt`, если все правильно подключено и инициализировано.

## Подробнее
Исторически микроконтроллеры вроде Arduino имели очень мало памяти и не могли работать с файлами. Но с появлением модулей SD-карты и увеличения объема встроенной памяти появилась возможность работы с файловым вводом/выводом. Существуют различные библиотеки для этих целей, такие как `<SD.h>`. Она создана на основе `<SPI.h>` для коммуникации с SD-картой через SPI шину.

В качестве альтернативы можно использовать EEPROM (нетранзитивную память) для малых данных или даже подключить Arduino к сети и извлекать файлы с сервера. Библиотека `<SD.h>` является оберткой для более низкоуровневых функций, управляя файловым менеджментом, чтением и записью аналогично стандартным потокам C++.

Реализация на Arduino включает инициализацию модуля SD-карты, открытие файла, его чтение до тех пор, пока не закончится содержимое, а затем закрытие для освобождения ресурсов. Очень важно обрабатывать ошибки, такие как неудачная инициализация или неудачное открытие файла, поскольку они являются обычными причинами головной боли при работе с файлами.

## Смотрите также
- Официальная справка по библиотеке SD: https://www.arduino.cc/en/Reference/SD
- Библиотека SPI для последовательной связи Arduino: https://www.arduino.cc/en/reference/SPI
- Руководство по использованию EEPROM с Arduino для задач хранения меньших данных: https://www.arduino.cc/en/Tutorial/LibraryExamples/EEPROMReadWrite
