---
title:                "Чтение аргументов командной строки"
date:                  2024-01-29T00:01:05.803590-07:00
model:                 gpt-4-0125-preview
simple_title:         "Чтение аргументов командной строки"
programming_language: "PowerShell"
category:             "PowerShell"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/powershell/reading-command-line-arguments.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Чтение аргументов командной строки позволяет скриптам вести себя по-разному в зависимости от входных данных извне кода. Программисты используют их, потому что они делают скрипты гибкими, применимыми во многих сценариях без изменения самого кода.

## Как это сделать

PowerShell читает аргументы командной строки, используя массив `$args` или параметры. `$args` удобен для одноразовых скриптов; параметры лучше подходят для надежных инструментов.

### Использование `$args`
```PowerShell
# myscript.ps1
Write-Host "Вы ввели следующие аргументы:"
$args
```
Запустите с помощью `.\myscript.ps1 Hello PowerShell`, на выходе получится:
```
Вы ввели следующие аргументы:
Hello PowerShell
```

### Использование параметров
```PowerShell
# myscriptparam.ps1
param (
    [string]$Name,
    [int]$Age
)
Write-Host "Привет, $Name! Вам $Age лет."
```
Запустите с помощью `.\myscriptparam.ps1 -Name Sarah -Age 32`, на выходе получится:
```
Привет, Sarah! Вам 32 лет.
```

## Погружаемся глубже

Современный подход PowerShell к аргументам командной строки напоминает наследие от его предшественников, таких как cmd и Bash. Однако, он усиливает гибкость и точность.

### Исторический контекст
Годы назад, пакетные файлы и скрипты оболочки получали доступ к аргументам с помощью нумерованных переменных (как `%1`, `%2`). PowerShell усовершенствовал это с помощью `$args` и именованных параметров для большей ясности и контроля.

### Альтернативы
Существуют альтернативы, такие как разбор входных данных с `Read-Host` или прием входных данных через конвейер. Однако, `$args` и параметры более бесшовны для автоматизированных задач и скриптов.

### Детали реализации
`$args` - это простой массив, хороший для произвольного ввода. Параметры с их атрибутами и типами могут валидировать входные данные и даже запрашивать у пользователя, делая скрипты самодокументируемыми и менее подверженными ошибкам.

## Смотрите также

- [О параметрах](https://docs.microsoft.com/en-us/powershell/scripting/developer/cmdlet/cmdlet-parameter-sets?view=powershell-7)
- [Автоматические переменные в PowerShell](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_automatic_variables?view=powershell-7&viewFallbackFrom=powershell-6)
