---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:48:25.803263-06:00
description: "\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 \u0E2B\u0E23\u0E37\
  \u0E2D Logging \u0E04\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E08\u0E14\u0E1A\u0E31\u0E19\
  \u0E17\u0E36\u0E01\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E41\u0E2D\u0E1B\u0E1E\
  \u0E25\u0E34\u0E40\u0E04\u0E0A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E01\
  \u0E33\u0E25\u0E31\u0E07\u0E17\u0E33\u0E2D\u0E22\u0E39\u0E48\u2014\u0E04\u0E25\u0E49\
  \u0E32\u0E22\u0E01\u0E31\u0E1A\u0E44\u0E14\u0E2D\u0E32\u0E23\u0E35\u0E48 \u0E16\u0E49\
  \u0E32\u0E08\u0E30\u0E43\u0E2B\u0E49\u0E40\u0E1B\u0E23\u0E35\u0E22\u0E1A\u0E40\u0E17\
  \u0E35\u0E22\u0E1A \u0E41\u0E15\u0E48\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E42\u0E04\
  \u0E49\u0E14\u0E41\u0E25\u0E49\u0E27\u2026"
lastmod: '2024-03-17T21:57:56.651605-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 \u0E2B\u0E23\u0E37\
  \u0E2D Logging \u0E04\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E08\u0E14\u0E1A\u0E31\u0E19\
  \u0E17\u0E36\u0E01\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E41\u0E2D\u0E1B\u0E1E\
  \u0E25\u0E34\u0E40\u0E04\u0E0A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E01\
  \u0E33\u0E25\u0E31\u0E07\u0E17\u0E33\u0E2D\u0E22\u0E39\u0E48\u2014\u0E04\u0E25\u0E49\
  \u0E32\u0E22\u0E01\u0E31\u0E1A\u0E44\u0E14\u0E2D\u0E32\u0E23\u0E35\u0E48 \u0E16\u0E49\
  \u0E32\u0E08\u0E30\u0E43\u0E2B\u0E49\u0E40\u0E1B\u0E23\u0E35\u0E22\u0E1A\u0E40\u0E17\
  \u0E35\u0E22\u0E1A \u0E41\u0E15\u0E48\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E42\u0E04\
  \u0E49\u0E14\u0E41\u0E25\u0E49\u0E27 \u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E40\
  \u0E21\u0E2D\u0E23\u0E4C\u0E17\u0E33\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\
  \u0E01\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21\u0E23\u0E32\
  \u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E15\u0E48\u0E32\u0E07\u0E46 \u0E40\
  \u0E0A\u0E48\u0E19 \u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\
  \u0E1B\u0E25\u0E07\u0E2A\u0E16\u0E32\u0E19\u0E30 \u0E01\u0E34\u0E08\u0E01\u0E23\u0E23\
  \u0E21\u0E02\u0E2D\u0E07\u0E23\u0E30\u0E1A\u0E1A \u0E41\u0E25\u0E30\u0E1A\u0E31\u0E4A\
  \u0E01\u0E17\u0E35\u0E48\u0E19\u0E48\u0E32\u0E23\u0E33\u0E04\u0E32\u0E0D \u0E17\u0E33\
  \u0E43\u0E2B\u0E49\u0E41\u0E19\u0E48\u0E43\u0E08\u0E27\u0E48\u0E32\u0E44\u0E21\u0E48\
  \u0E21\u0E35\u0E1B\u0E31\u0E0D\u0E2B\u0E32\u0E43\u0E14\u0E1C\u0E48\u0E32\u0E19\u0E1E\
  \u0E49\u0E19\u0E44\u0E1B\u0E42\u0E14\u0E22\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E2A\
  \u0E31\u0E07\u0E40\u0E01\u0E15."
title: "\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E25\u0E47\u0E2D\u0E01"
weight: 17
---

## อะไรและทำไม?
การบันทึก หรือ Logging คือการจดบันทึกสิ่งที่แอปพลิเคชันของคุณกำลังทำอยู่—คล้ายกับไดอารี่ ถ้าจะให้เปรียบเทียบ แต่สำหรับโค้ดแล้ว โปรแกรมเมอร์ทำการบันทึกเพื่อติดตามรายละเอียดต่างๆ เช่น การเปลี่ยนแปลงสถานะ กิจกรรมของระบบ และบั๊กที่น่ารำคาญ ทำให้แน่ใจว่าไม่มีปัญหาใดผ่านพ้นไปโดยไม่ถูกสังเกต

## วิธีทำ:
ใน Fish, การบันทึกสามารถทำได้ง่ายด้วยการเปลี่ยนทิศทางของกระแสผลลัพธ์มาตรฐานและข้อผิดพลาดไปยังไฟล์ เรามาทำการบันทึกเวลาเริ่มต้นและเวลาสิ้นสุดของสคริปต์ของเรา

```fish
function log_start
  echo (date "+%Y-%m-%d %H:%M:%S") " - สคริปต์เริ่มทำงาน" >> my_app.log
end

function log_end
  echo (date "+%Y-%m-%d %H:%M:%S") " - สคริปต์สิ้นสุดการทำงาน" >> my_app.log
end

log_start
# ... งานของสคริปต์ของคุณ ...
log_end

cat my_app.log
```

นี่คือสิ่งที่คุณจะเห็นใน `my_app.log`:

```
2023-04-01 10:35:47  - สคริปต์เริ่มทำงาน
2023-04-01 10:36:02  - สคริปต์สิ้นสุดการทำงาน
```

สำหรับการบันทึกขั้นสูง, คุณสามารถใช้ฟังก์ชันพร้อมพารามิเตอร์สำหรับระดับบันทึกและข้อความ:

```fish
function log_message --argument message
  switch "$argv[1]"
    case 'INFO' 'WARN' 'ERROR'
      set log_level $argv[1]
    case '*'
      set log_level 'DEBUG'
  end
  set log_msg (string join " " $argv[2..-1])
  echo (date "+%Y-%m-%d %H:%M:%S") "[$log_level]" $log_msg >> my_app.log
end

log_message INFO "นี่คือข้อความแบบข้อมูล"
log_message ERROR "มีบางอย่างผิดพลาด!"
```

ตัวอย่างการแสดงผลใน `my_app.log` จะเป็น:
```
2023-04-01 10:35:47 [INFO] นี่คือข้อความแบบข้อมูล
2023-04-01 10:35:49 [ERROR] มีบางอย่างผิดพลาด!
```

## ดำดิ่งลึกลงไป
ในอดีต, การบันทึกในสคริปต์ Shell ทำได้ด้วยการใช้คำสั่ง `echo` อย่างมากมาย และในขณะที่นี้ยังคงเป็นตัวเลือกหนึ่ง, การนำไปใช้งานระบบที่ซับซ้อนกว่านั้นอาจเป็นความท้าทาย Fish ไม่มีระบบบันทึกอย่างเป็นทางการเช่นเดียวกับ shells หรือภาษาโปรแกรมอื่นๆ ดังนั้นบ่อยครั้งคุณต้องสร้างขึ้นเอง

ทางเลือกของคำสั่ง `echo` ใน Fish สำหรับการบันทึก ได้แก่ เครื่องมือ Unix เช่น `syslog` หรือ `logger` ซึ่งเชื่อมต่อกับ daemon ของระบบบันทึก, ให้วิธีการที่เข้ากันได้มากขึ้นสำหรับการบันทึกเหตุการณ์ระดับระบบ

ความเรียบง่ายของ Fish ช่วยให้คุณสร้างฟังก์ชันเพื่อจัดการกับระดับความละเอียดของการบันทึก, กำหนดระดับต่างๆ ที่คุณสามารถเปิดหรือปิดได้ บางการนำไปใช้งานอาจรวมถึงชื่อสคริปต์, หมายเลขบรรทัด, และเวลาที่บันทึก, ซึ่งทำให้ง่ายต่อการติดตามกลับไปยังขั้นตอนที่นำไปสู่เหตุการณ์

## ดูเพิ่มเติม
- เอกสารประกอบ Fish Shell เกี่ยวกับการเขียนฟังก์ชัน: https://fishshell.com/docs/current/#syntax-function
- คำแนะนำพื้นฐานเกี่ยวกับการเขียนสคริปต์ Shell: https://developer.ibm.com/tutorials/l-lpic1-103-4/
- คู่มือเกี่ยวกับโปรโตคอล Syslog: https://tools.ietf.org/html/rfc5424
