---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:52:52.933593-06:00
description: "\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E01\u0E31\u0E1A JSON\
  \ \u0E43\u0E19\u0E20\u0E32\u0E29\u0E32 Elm \u0E19\u0E31\u0E49\u0E19\u0E40\u0E01\u0E35\
  \u0E48\u0E22\u0E27\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E41\u0E1B\u0E25\u0E07\u0E02\
  \u0E49\u0E2D\u0E21\u0E39\u0E25 JSON \u0E40\u0E1B\u0E47\u0E19\u0E0A\u0E19\u0E34\u0E14\
  \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E19 Elm \u0E41\u0E25\u0E30\u0E01\u0E32\
  \u0E23\u0E40\u0E02\u0E49\u0E32\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E48\u0E32\u0E02\u0E2D\
  \u0E07 Elm \u0E01\u0E25\u0E31\u0E1A\u0E40\u0E1B\u0E47\u0E19 JSON\u2026"
lastmod: '2024-03-17T21:57:56.151790-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E01\u0E31\u0E1A JSON\
  \ \u0E43\u0E19\u0E20\u0E32\u0E29\u0E32 Elm \u0E19\u0E31\u0E49\u0E19\u0E40\u0E01\u0E35\
  \u0E48\u0E22\u0E27\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E41\u0E1B\u0E25\u0E07\u0E02\
  \u0E49\u0E2D\u0E21\u0E39\u0E25 JSON \u0E40\u0E1B\u0E47\u0E19\u0E0A\u0E19\u0E34\u0E14\
  \u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E19 Elm \u0E41\u0E25\u0E30\u0E01\u0E32\
  \u0E23\u0E40\u0E02\u0E49\u0E32\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E48\u0E32\u0E02\u0E2D\
  \u0E07 Elm \u0E01\u0E25\u0E31\u0E1A\u0E40\u0E1B\u0E47\u0E19 JSON \u0E01\u0E23\u0E30\
  \u0E1A\u0E27\u0E19\u0E01\u0E32\u0E23\u0E19\u0E35\u0E49\u0E2A\u0E33\u0E04\u0E31\u0E0D\
  \u0E21\u0E32\u0E01\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E41\u0E2D\u0E1B\u0E1E\u0E25\
  \u0E34\u0E40\u0E04\u0E0A\u0E31\u0E19\u0E40\u0E27\u0E47\u0E1A\u0E40\u0E1E\u0E37\u0E48\
  \u0E2D\u0E42\u0E15\u0E49\u0E15\u0E2D\u0E1A\u0E01\u0E31\u0E1A API \u0E41\u0E25\u0E30\
  \u0E41\u0E2B\u0E25\u0E48\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E20\u0E32\u0E22\
  \u0E19\u0E2D\u0E01 \u0E17\u0E33\u0E43\u0E2B\u0E49\u0E01\u0E32\u0E23\u0E41\u0E25\u0E01\
  \u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E23\
  \u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E44\u0E04\u0E25\u0E40\u0E2D\u0E19\u0E15\u0E4C\
  \ (Elm) \u0E41\u0E25\u0E30\u0E40\u0E0B\u0E34\u0E23\u0E4C\u0E1F\u0E40\u0E27\u0E2D\
  \u0E23\u0E4C\u0E2B\u0E23\u0E37\u0E2D\u0E1A\u0E23\u0E34\u0E01\u0E32\u0E23\u0E2D\u0E37\
  \u0E48\u0E19 \u0E46 \u0E40\u0E1B\u0E47\u0E19\u0E44\u0E1B\u0E2D\u0E22\u0E48\u0E32\
  \u0E07\u0E23\u0E32\u0E1A\u0E23\u0E37\u0E48\u0E19."
title: "\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E01\u0E31\u0E1A JSON"
weight: 38
---

## อะไร & ทำไม?
การทำงานกับ JSON ในภาษา Elm นั้นเกี่ยวกับการแปลงข้อมูล JSON เป็นชนิดข้อมูลใน Elm และการเข้ารหัสค่าของ Elm กลับเป็น JSON กระบวนการนี้สำคัญมากสำหรับแอปพลิเคชันเว็บเพื่อโต้ตอบกับ API และแหล่งข้อมูลภายนอก ทำให้การแลกเปลี่ยนข้อมูลระหว่างไคลเอนต์ (Elm) และเซิร์ฟเวอร์หรือบริการอื่น ๆ เป็นไปอย่างราบรื่น

## วิธีการ:

Elm จัดการการใช้งาน JSON ด้วยความชัดเจนและความปลอดภัย เริ่มต้นด้วยการใช้งานโมดูล `Json.Decode` และ `Json.Encode` ก่อนอื่นคุณจำเป็นต้องกำหนดตัวถอดรหัสสำหรับชนิดข้อมูลของคุณ สมมติว่าเรากำลังจัดการกับอ็อบเจ็กต์โปรไฟล์ผู้ใช้งานที่เรียบง่าย

ก่อนอื่น นิยามชนิดข้อมูลใน Elm ของคุณ:

```elm
type alias UserProfile = 
    { id : Int
    , name : String
    , email : String
    }
```

### การถอดรหัส JSON เป็น Elm

เพื่อถอดรหัสสตริง JSON เป็นชนิด `UserProfile`, สร้างตัวถอดรหัส:

```elm
import Json.Decode exposing (Decoder, int, string, field, map3)

userProfileDecoder : Decoder UserProfile
userProfileDecoder =
    map3 UserProfile
        (field "id" int)
        (field "name" string)
        (field "email" string)
```

เพื่อถอดรหัสอ็อบเจกต์ JSON:

```elm
import Json.Decode exposing (decodeString)

jsonString : String
jsonString = 
    """{"id": 1, "name": "John Doe", "email": "john@example.com"}"""

decoded : Result String UserProfile
decoded =
    decodeString userProfileDecoder jsonString

{- ตัวอย่างผลลัพธ์:
Result.Ok { id = 1, name = "John Doe", email = "john@example.com" }
-}
```

### การเข้ารหัส Elm เป็น JSON

เพื่อเข้ารหัสค่าของ Elm กลับเป็น JSON, ใช้โมดูล `Json.Encode`.

```elm
import Json.Encode exposing (object, int, string)

encodeUserProfile : UserProfile -> String
encodeUserProfile userProfile =
    object
        [ ("id", int userProfile.id)
        , ("name", string userProfile.name)
        , ("email", string userProfile.email)
        ]
        |> Json.Encode.encode 0

{-
การใช้งาน:
encodeUserProfile { id = 1, name = "John Doe", email = "john@example.com" }

ตัวอย่างผลลัพธ์:
"{"id":1,"name":"John Doe","email":"john@example.com"}"
-}
```

### ไลบรารีของบุคคลที่สาม

แพ็คเกจของ Elm เช่น `elm-json-decode-pipeline` สามารถช่วยให้การสร้างตัวถอดรหัสเรียบง่ายขึ้นด้วยสไตล์ไพพ์ไลน์ ซึ่งเป็นประโยชน์เพื่อการถอดรหัสอ็อบเจกต์ที่ซับซ้อน

เริ่มต้น, เพิ่มไลบรารีนี้ในโปรเจกต์ของคุณ:

```shell
elm install NoRedInk/elm-json-decode-pipeline
```

จากนั้น, คุณสามารถทำให้นิยามตัวถอดรหัสเรียบง่ายขึ้นได้ดังนี้:

```elm
import Json.Decode exposing (int, string, succeed)
import Json.Decode.Pipeline exposing (required, decode)

userProfileDecoder : Decoder UserProfile
userProfileDecoder =
    decode UserProfile
        |> required "id" int
        |> required "name" string
        |> required "email" string

{- ใช้ตัวถอดรหัสนี้เหมือนเดิมกับ decodeString เพื่อถอดรหัสสตริง JSON. -}
```

วิธีนี้ทำให้ตัวถอดรหัสเรียบง่ายขึ้น ทำให้โค้ดสะอาดและง่ายต่อการบำรุงรักษา โดยเฉพาะเมื่อโครงสร้างข้อมูลมีความซับซ้อนมากขึ้น.
