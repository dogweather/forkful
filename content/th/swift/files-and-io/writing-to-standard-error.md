---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:54:38.112138-06:00
description: "\u0E01\u0E32\u0E23\u0E40\u0E02\u0E35\u0E22\u0E19\u0E44\u0E1B\u0E22\u0E31\
  \u0E07 standard error (stderr) \u0E40\u0E1B\u0E47\u0E19\u0E40\u0E23\u0E37\u0E48\u0E2D\
  \u0E07\u0E02\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E19\u0E33\u0E02\u0E49\u0E2D\u0E04\u0E27\
  \u0E32\u0E21\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E2B\u0E23\u0E37\u0E2D\u0E1C\
  \u0E25\u0E01\u0E32\u0E23\u0E27\u0E34\u0E19\u0E34\u0E08\u0E09\u0E31\u0E22\u0E02\u0E2D\
  \u0E07\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\
  \u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2A\u0E15\u0E23\u0E35\u0E21\u0E17\u0E35\u0E48\u0E41\
  \u0E22\u0E01\u0E15\u0E48\u0E32\u0E07\u0E2B\u0E32\u0E01 \u0E0B\u0E36\u0E48\u0E07\u0E15\
  \u0E48\u0E32\u0E07\u0E08\u0E32\u0E01 standard output\u2026"
lastmod: '2024-03-17T21:57:56.577254-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E40\u0E02\u0E35\u0E22\u0E19\u0E44\u0E1B\u0E22\u0E31\
  \u0E07 standard error (stderr) \u0E40\u0E1B\u0E47\u0E19\u0E40\u0E23\u0E37\u0E48\u0E2D\
  \u0E07\u0E02\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E19\u0E33\u0E02\u0E49\u0E2D\u0E04\u0E27\
  \u0E32\u0E21\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E2B\u0E23\u0E37\u0E2D\u0E1C\
  \u0E25\u0E01\u0E32\u0E23\u0E27\u0E34\u0E19\u0E34\u0E08\u0E09\u0E31\u0E22\u0E02\u0E2D\
  \u0E07\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\
  \u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2A\u0E15\u0E23\u0E35\u0E21\u0E17\u0E35\u0E48\u0E41\
  \u0E22\u0E01\u0E15\u0E48\u0E32\u0E07\u0E2B\u0E32\u0E01 \u0E0B\u0E36\u0E48\u0E07\u0E15\
  \u0E48\u0E32\u0E07\u0E08\u0E32\u0E01 standard output (stdout) \u0E2A\u0E34\u0E48\
  \u0E07\u0E19\u0E35\u0E49\u0E2A\u0E33\u0E04\u0E31\u0E0D\u0E21\u0E32\u0E01\u0E2A\u0E33\
  \u0E2B\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E1A\u0E31\
  \u0E4A\u0E01\u0E41\u0E25\u0E30\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\
  \u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E42\u0E14\u0E22\u0E44\u0E21\u0E48\u0E17\
  \u0E33\u0E43\u0E2B\u0E49 standard output \u0E23\u0E01\u0E23\u0E38\u0E07\u0E23\u0E31\
  \u0E07 \u0E0A\u0E48\u0E27\u0E22\u0E43\u0E2B\u0E49\u0E19\u0E31\u0E01\u0E1E\u0E31\u0E12\
  \u0E19\u0E32\u0E41\u0E25\u0E30\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\
  \u0E40\u0E02\u0E49\u0E32\u0E43\u0E08\u0E2A\u0E16\u0E32\u0E19\u0E30\u0E41\u0E25\u0E30\
  \u0E1B\u0E31\u0E0D\u0E2B\u0E32\u0E02\u0E2D\u0E07\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\
  \u0E21\u0E44\u0E14\u0E49\u0E07\u0E48\u0E32\u0E22\u0E02\u0E36\u0E49\u0E19."
title: "\u0E01\u0E32\u0E23\u0E40\u0E02\u0E35\u0E22\u0E19\u0E44\u0E1B\u0E22\u0E31\u0E07\
  \u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E21\u0E32\u0E15\u0E23\
  \u0E10\u0E32\u0E19"
weight: 25
---

## อะไร & ทำไม?

การเขียนไปยัง standard error (stderr) เป็นเรื่องของการนำข้อความผิดพลาดหรือผลการวินิจฉัยของโปรแกรมของคุณไปยังสตรีมที่แยกต่างหาก ซึ่งต่างจาก standard output (stdout) สิ่งนี้สำคัญมากสำหรับการแก้ไขบั๊กและบันทึกข้อผิดพลาดโดยไม่ทำให้ standard output รกรุงรัง ช่วยให้นักพัฒนาและผู้ใช้งานเข้าใจสถานะและปัญหาของโปรแกรมได้ง่ายขึ้น

## วิธีการ:

ใน Swift, การเขียนไปยัง standard error สามารถทำได้โดยใช้คลาส `FileHandle` เพื่อเข้าถึง stderr โดยตรง ต่อไปนี้เป็นตัวอย่างง่ายๆ:

```swift
import Foundation

// กำหนดข้อความผิดพลาด
let errorMessage = "เกิดข้อผิดพลาด\n"

// แปลงข้อความเป็นข้อมูล
if let data = errorMessage.data(using: .utf8) {
    // เขียนข้อความผิดพลาดไปยัง stderr
    FileHandle.standardError.write(data)
}
```

ผลลัพธ์ที่ stderr (โดยปกติจะดูในคอนโซลหรือเทอร์มินัล):
```
เกิดข้อผิดพลาด
```

สำหรับการบันทึกที่ซับซ้อนยิ่งขึ้นหรือเมื่อทำงานกับไลบรารีภายนอก คุณอาจพิจารณาใช้ไลบรารี่ของบุคคลที่สามเช่น **SwiftLog** แม้ว่า **SwiftLog** อาจไม่ได้เขียนไปยัง stderr โดยตรงจากกล่อง คุณสามารถทำการปรับแต่ง backend การบันทึกเพื่อบรรลุเรื่องนี้ได้ ต่อไปนี้เป็นตัวอย่างการกำหนด custom log handler ที่เขียนไปยัง stderr:

ก่อนอื่น ให้เพิ่ม **SwiftLog** ไปยังการพึ่งพาโปรเจคของคุณใน `Package.swift`:
```swift
// swift-tools-version:5.3

import PackageDescription

let package = Package(
    name: "YourPackageName",
    dependencies: [
        .package(url: "https://github.com/apple/swift-log.git", from: "1.0.0"),
    ],
    targets: [
        .target(
            name: "YourTargetName",
            dependencies: [
                .product(name: "Logging", package: "swift-log"),
            ]),
    ]
)
```

จากนั้น ให้ทำการปรับแต่ง custom log handler ที่เขียนไปยัง stderr:

```swift
import Logging
import Foundation

struct StderrLogHandler: LogHandler {
    let label: String
    
    var logLevel: Logger.Level = .info
    
    func log(level: Logger.Level, message: Logger.Message, metadata: Logger.Metadata?, source: String, file: String, function: String, line: UInt) {
        let output = "\(message)\n"
        if let data = output.data(using: .utf8) {
            FileHandle.standardError.write(data)
        }
    }
    
    subscript(metadataKey metadataKey: String) -> Logger.Metadata.Value? {
        get { return nil }
        set(newValue) { }
    }
    
    var metadata: Logger.Metadata {
        get { return [:] }
        set(newMetadata) { }
    }
}

// การใช้งาน
LoggingSystem.bootstrap(StderrLogHandler.init)
let logger = Logger(label: "com.example.yourapp")

logger.error("นี่คือข้อความแสดงข้อผิดพลาด")
```

ผลลัพธ์ที่ stderr:
```
นี่คือข้อความแสดงข้อผิดพลาด
```

Handler ที่กำหนดเองนี้ช่วยให้คุณสามารถนำข้อความผิดพลาดจาก SwiftLog ไปยัง standard error โดยตรง รวมอย่างไม่มีรอยต่อกับข้อความบันทึกอื่นๆ ที่แอพพลิเคชั่นของคุณอาจสร้างขึ้น
