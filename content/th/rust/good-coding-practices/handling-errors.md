---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:48:14.529062-06:00
description: "\u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E01\u0E31\u0E1A\
  \u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E04\u0E37\u0E2D\u0E01\
  \u0E32\u0E23\u0E23\u0E31\u0E1A\u0E21\u0E37\u0E2D\u0E01\u0E31\u0E1A\u0E2A\u0E34\u0E48\
  \u0E07\u0E15\u0E48\u0E32\u0E07\u0E46 \u0E40\u0E21\u0E37\u0E48\u0E2D\u0E1E\u0E27\u0E01\
  \u0E40\u0E02\u0E32\u0E40\u0E1C\u0E0A\u0E34\u0E0D\u0E01\u0E31\u0E1A\u0E1B\u0E31\u0E0D\
  \u0E2B\u0E32 \u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E40\u0E21\u0E2D\u0E23\u0E4C\
  \u0E17\u0E33\u0E40\u0E0A\u0E48\u0E19\u0E19\u0E35\u0E49\u0E40\u0E1E\u0E37\u0E48\u0E2D\
  \u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E01\u0E31\u0E1A\u0E2A\u0E34\u0E48\u0E07\u0E17\
  \u0E35\u0E48\u0E44\u0E21\u0E48\u0E04\u0E32\u0E14\u0E04\u0E34\u0E14 \u0E17\u0E33\u0E43\
  \u0E2B\u0E49\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21 Rust\u2026"
lastmod: '2024-03-17T21:57:56.002361-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E01\u0E31\u0E1A\
  \u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E04\u0E37\u0E2D\u0E01\
  \u0E32\u0E23\u0E23\u0E31\u0E1A\u0E21\u0E37\u0E2D\u0E01\u0E31\u0E1A\u0E2A\u0E34\u0E48\
  \u0E07\u0E15\u0E48\u0E32\u0E07\u0E46 \u0E40\u0E21\u0E37\u0E48\u0E2D\u0E1E\u0E27\u0E01\
  \u0E40\u0E02\u0E32\u0E40\u0E1C\u0E0A\u0E34\u0E0D\u0E01\u0E31\u0E1A\u0E1B\u0E31\u0E0D\
  \u0E2B\u0E32 \u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E40\u0E21\u0E2D\u0E23\u0E4C\
  \u0E17\u0E33\u0E40\u0E0A\u0E48\u0E19\u0E19\u0E35\u0E49\u0E40\u0E1E\u0E37\u0E48\u0E2D\
  \u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E01\u0E31\u0E1A\u0E2A\u0E34\u0E48\u0E07\u0E17\
  \u0E35\u0E48\u0E44\u0E21\u0E48\u0E04\u0E32\u0E14\u0E04\u0E34\u0E14 \u0E17\u0E33\u0E43\
  \u0E2B\u0E49\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21 Rust\u2026"
title: "\u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E01\u0E31\u0E1A\u0E02\
  \u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14"
weight: 16
---

## อะไรและทำไม?

การจัดการกับข้อผิดพลาดคือการรับมือกับสิ่งต่างๆ เมื่อพวกเขาเผชิญกับปัญหา โปรแกรมเมอร์ทำเช่นนี้เพื่อจัดการกับสิ่งที่ไม่คาดคิด ทำให้โปรแกรม Rust ของพวกเขามีความเข้มแข็งและไม่เพียงแค่ล่มเมื่อเผชิญกับอุปสรรค

## วิธีการ:

Rust จัดการกับข้อผิดพลาดในสองวิธีหลัก: ข้อผิดพลาดที่สามารถแก้ไขได้และไม่สามารถแก้ไขได้ มาดูทั้งสองแบบกัน

ข้อผิดพลาดที่สามารถแก้ไขได้ใช้ `Result<T, E>`:

```Rust
use std::fs::File;

fn open_file(filename: &str) -> Result<File, std::io::Error> {
    let f = File::open(filename);
    
    match f {
        Ok(file) => Ok(file),
        Err(e) => Err(e),
    }
}

fn main() {
    match open_file("hello.txt") {
        Ok(_file) => println!("ไฟล์เปิดสำเร็จ."),
        Err(_e) => println!("การเปิดไฟล์ล้มเหลว."),
    }
}
```

ผลลัพธ์อาจเป็น "ไฟล์เปิดสำเร็จ." หรือ "การเปิดไฟล์ล้มเหลว." ขึ้นอยู่กับ `hello.txt` ของคุณ

สำหรับข้อผิดพลาดที่ไม่สามารถแก้ไขได้ เราใช้ `panic!`:

```Rust
fn main() {
    // สิ่งนี้จะทำให้โปรแกรม panic เพราะไฟล์อาจไม่มีอยู่จริง
    let _f = File::open("nowhere.txt").unwrap();
}
```

รันมัน และคุณจะเห็นข้อความ panic โปรแกรมของคุณหยุดนิ่งทันที

## การดำดิ่งลึก

โดยประวัติศาสตร์ การจัดการกับข้อผิดพลาดในการเขียนโปรแกรมเป็นเรื่องยุ่งยาก Rust ทำให้ถูกต้องด้วยการแยกแยะชัดเจนระหว่างข้อผิดพลาดที่สามารถแก้ไขได้และไม่สามารถแก้ไขได้

อีนัม `Result` ใช้สำหรับข้อผิดพลาดที่สามารถแก้ไขได้ มันชัดเจน - คุณจัดการกับตัวแปร `Ok` หรือ `Err` คุณมีเมทอดเช่น `unwrap()` และ `expect()` ด้วย แต่พวกมันเป็นทางลัดที่รวดเร็วและสกปรกซึ่งสามารถนำไปสู่ `panic!`

`panic!` เป็นวิธีของ Rust ในการบอกว่าเกิดเหตุการณ์ที่ไม่ดีมากๆ ขึ้น และมันไม่สามารถจัดการได้ เหมือนกับข้อผิดพลาดที่ไม่สามารถแก้ไขได้ซึ่งหยุดการทำงานทันที การ panic ใน Rust มักเกิดขึ้นกับบักที่คุณไม่คาดคิดว่าจะจัดการได้ เช่น การอ้างถึงนอกขอบเขตของอาร์เรย์

การจัดการข้อผิดพลาดโดยการคืนค่า `Result` ได้รับการต้อนรับเมื่อคุณคาดหวังว่าจะต้องจัดการกับข้อผิดพลาด มันเป็นวิธีที่โปรแกรมเมอร์ Rust ตกลงกัน เช่นเดียวกันกับ `Option<T>` สำหรับกรณีที่ข้อผิดพลาดเป็นเพียงบางสิ่งที่เป็น `None` แทนที่จะเป็น `Some(T)` มันเกี่ยวกับการคาดหวังสิ่งที่ไม่คาดคิดโดยไม่มีความกลัว

ทางเลือก? แน่นอน คุณสามารถใช้คลังการจัดการข้อผิดพลาดอื่นๆ ได้สำหรับคุณสมบัติเพิ่มเติมหรือการใช้งานที่สะดวกขึ้น เช่น `anyhow` สำหรับการจัดการข้อผิดพลาดอย่างง่าย หรือ `thiserror` สำหรับข้อผิดพลาดในโค้ดไลบรารี

## ดูเพิ่มเติม

สนใจที่จะศึกษาลึกขึ้นไหม? นี่คือที่ที่คุณควรไป:

- [หนังสือ Rust เกี่ยวกับการจัดการข้อผิดพลาด](https://doc.rust-lang.org/book/ch09-00-error-handling.html) - สถานที่ที่ยอดเยี่ยมในการเข้าใจปรัชญาการจัดการข้อผิดพลาดของ Rust
- [Rust โดยตัวอย่าง: การจัดการข้อผิดพลาด](https://doc.rust-lang.org/rust-by-example/error.html) - ตัวอย่างการโต้ตอบเพื่อลงมือทำ

จำไว้ว่า การจัดการข้อผิดพลาดที่ดีไม่ใช่เพียงแค่การเขียนโค้ด; มันคือการดูแลผู้ใช้โค้ดของคุณ การเขียนโค้ดอย่างมีความสุข!
