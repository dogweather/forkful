---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:49:46.590068-06:00
description: "\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 (Logging) \u0E43\
  \u0E19\u0E41\u0E01\u0E48\u0E19\u0E41\u0E17\u0E49\u0E04\u0E37\u0E2D\u0E01\u0E32\u0E23\
  \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E40\u0E2B\u0E15\u0E38\u0E01\u0E32\u0E23\u0E13\
  \u0E4C\u0E41\u0E25\u0E30\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E08\u0E32\u0E01\u0E41\
  \u0E2D\u0E1B\u0E1E\u0E25\u0E34\u0E40\u0E04\u0E0A\u0E31\u0E19\u0E0B\u0E2D\u0E1F\u0E15\
  \u0E4C\u0E41\u0E27\u0E23\u0E4C\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E1C\u0E25\u0E25\u0E31\
  \u0E1E\u0E18\u0E4C\u0E20\u0E32\u0E22\u0E19\u0E2D\u0E01 \u0E40\u0E0A\u0E48\u0E19\
  \ \u0E44\u0E1F\u0E25\u0E4C\u0E2B\u0E23\u0E37\u0E2D\u0E04\u0E2D\u0E19\u0E42\u0E0B\
  \u0E25\u2026"
lastmod: '2024-03-17T21:57:56.182949-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 (Logging) \u0E43\u0E19\
  \u0E41\u0E01\u0E48\u0E19\u0E41\u0E17\u0E49\u0E04\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E1A\
  \u0E31\u0E19\u0E17\u0E36\u0E01\u0E40\u0E2B\u0E15\u0E38\u0E01\u0E32\u0E23\u0E13\u0E4C\
  \u0E41\u0E25\u0E30\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E08\u0E32\u0E01\u0E41\u0E2D\
  \u0E1B\u0E1E\u0E25\u0E34\u0E40\u0E04\u0E0A\u0E31\u0E19\u0E0B\u0E2D\u0E1F\u0E15\u0E4C\
  \u0E41\u0E27\u0E23\u0E4C\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E1C\u0E25\u0E25\u0E31\u0E1E\
  \u0E18\u0E4C\u0E20\u0E32\u0E22\u0E19\u0E2D\u0E01 \u0E40\u0E0A\u0E48\u0E19 \u0E44\
  \u0E1F\u0E25\u0E4C\u0E2B\u0E23\u0E37\u0E2D\u0E04\u0E2D\u0E19\u0E42\u0E0B\u0E25 \u0E42\
  \u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E40\u0E21\u0E2D\u0E23\u0E4C\u0E1A\u0E31\u0E19\
  \u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E1E\u0E37\u0E48\u0E2D\
  \u0E15\u0E34\u0E14\u0E15\u0E32\u0E21\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\
  \u0E02\u0E2D\u0E07\u0E42\u0E04\u0E49\u0E14 \u0E41\u0E01\u0E49\u0E44\u0E02\u0E1B\u0E31\
  \u0E0D\u0E2B\u0E32 \u0E41\u0E25\u0E30\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E1E\
  \u0E24\u0E15\u0E34\u0E01\u0E23\u0E23\u0E21\u0E02\u0E2D\u0E07\u0E41\u0E2D\u0E1B\u0E43\
  \u0E19\u0E2A\u0E20\u0E32\u0E1E\u0E41\u0E27\u0E14\u0E25\u0E49\u0E2D\u0E21\u0E08\u0E23\
  \u0E34\u0E07 \u0E0B\u0E36\u0E48\u0E07\u0E43\u0E2B\u0E49\u0E02\u0E49\u0E2D\u0E21\u0E39\
  \u0E25\u0E2A\u0E33\u0E04\u0E31\u0E0D\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E2A\u0E32\
  \u0E21\u0E32\u0E23\u0E16\u0E2B\u0E32\u0E44\u0E14\u0E49\u0E2D\u0E22\u0E48\u0E32\u0E07\
  \u0E21\u0E35\u0E1B\u0E23\u0E30\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E20\u0E32\u0E1E\u0E43\
  \u0E19\u0E27\u0E34\u0E18\u0E35\u0E2D\u0E37\u0E48\u0E19."
title: "\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E25\u0E47\u0E2D\u0E01"
weight: 17
---

## อะไร & ทำไม?

การบันทึก (Logging) ในแก่นแท้คือการบันทึกเหตุการณ์และข้อมูลจากแอปพลิเคชันซอฟต์แวร์ไปยังผลลัพธ์ภายนอก เช่น ไฟล์หรือคอนโซล โปรแกรมเมอร์บันทึกข้อมูลเพื่อติดตามการทำงานของโค้ด แก้ไขปัญหา และตรวจสอบพฤติกรรมของแอปในสภาพแวดล้อมจริง ซึ่งให้ข้อมูลสำคัญที่ไม่สามารถหาได้อย่างมีประสิทธิภาพในวิธีอื่น

## วิธีทำ:

ใน Kotlin การบันทึกสามารถทำได้โดยใช้ฟังก์ชัน `println()` สำหรับกรณีง่ายๆ หรือใช้ไลบรารีที่ซับซ้อนกว่าเช่น SLF4J กับ Logback หรือ Log4j สำหรับความต้องการที่ซับซ้อนขึ้น

ต่อไปนี้คือตัวอย่างพื้นฐานในการใช้ `println()`:

```Kotlin
fun main() {
    println("Simple log message: Application started.")
    // ... บางลอจิกแอปพลิเคชั่นที่นี่ ...
    try {
        // จำลองข้อผิดพลาด
        throw Exception("Simulated error")
    } catch (e: Exception) {
        println("Error log message: " + e.message)
    }
}
```

ผลลัพธ์:
```
Simple log message: Application started.
Error log message: Simulated error
```

และนี่คือส่วนของโค้ดที่ใช้ SLF4J กับ Logback ที่ได้มีการตั้งค่าแล้ว:

```Kotlin
import org.slf4j.LoggerFactory

private val logger = LoggerFactory.getLogger("MyAppLogger")

fun main() {
    logger.info("Structured log message: App launched.")
    // ... บางลอจิกแอปพลิเคชั่นที่นี่ ...
    try {
        // จำลองข้อผิดพลาด
        throw Exception("Simulated error")
    } catch (e: Exception) {
        logger.error("Structured error log: ", e)
    }
}
```

หลังจากการตั้งค่า Logback อย่างเหมาะสม ผลลัพธ์ที่ได้จะถูกจัดรูปแบบและอาจจะปรากฏออกมาเหมือนนี้เมื่อเขียนลงในไฟล์ log:
```
[INFO] - 2023-03-29 14:15:42 - MyAppLogger - Structured log message: App launched.
[ERROR] - 2023-03-29 14:15:43 - MyAppLogger - Structured error log: 
java.lang.Exception: Simulated error
   at com.myapp.Main.main(Main.kt:10)
```

## ลงรายละเอียด

ในอดีต การบันทึกในซอฟต์แวร์พัฒนาร่วมกับความซับซ้อนของแอปพลิเคชันและระบบ เพียงแค่คำสั่งพิมพ์ก็เพียงพอสำหรับช่วงแรกๆ ซึ่งโปรแกรมมักจะถูกเรียกใช้และดีบักโดยนักพัฒนาเอง แต่เมื่อระบบเชื่อมต่อกับเครือข่ายและทำงานในสภาพแวดล้อมต่างๆ ผ่านผู้ใช้ต่างๆ ระบบการบันทึกที่เข้มแข็งและถาวรกลายเป็นสิ่งสำคัญ

ก่อนที่ Kotlin จะเป็นที่นิยม นักพัฒนา Java ใช้ไลบรารีอย่าง Log4j และต่อมาคือ SLF4J อย่างแพร่หลาย ซึ่งได้สร้างแรงบันดาลใจให้กับการปฏิบัติที่คล้ายคลึงกันใน Kotlin โดยใช้ประโยชน์จากการทำงานร่วมกันของไลบรารี Kotlin กับ Java SLF4J ทำหน้าที่เป็นชั้นครอบงำ อนุญาตให้การใช้งานการบันทึกจริงสามารถเปลี่ยนแปลงได้—โดยปกติ Logback หรือ Log4j2 จะเป็นตัวเลือกที่ต้องการ

Kotlin ยังอนุญาตให้มีการแก้ปัญหาการบันทึกหลายแพลตฟอร์มที่ทำงานได้ทั้งใน JVM, JavaScript และ Native เช่น ผ่านกลไก `expect`/`actual` ซึ่งซ่อนการดำเนินการเฉพาะแพลตฟอร์มไว้

เมื่อเทียบกับไลบรารีการบันทึกที่เฉพาะเจาะจง println ยังคงเป็นรูปแบบการบันทึกที่ง่ายที่สุดเนื่องจากไม่ต้องการการตั้งค่าเพิ่มเติมหรือการพึ่งพาซึ่งกันและกัน อย่างไรก็ตาม มันมักจะไม่เหมาะสมสำหรับแอปพลิเคชันที่ใช้งานจริงเนื่องจากขาดคุณลักษณะเช่นระดับการบันทึก การหมุนไฟล์ล็อก และรูปแบบที่มีโครงสร้าง

คุณสมบัติอื่นๆ ทั่วไปของกรอบการทำงานการบันทึกขั้นสูง ได้แก่:

- ระดับการบันทึก (DEBUG, INFO, WARN, ERROR ฯลฯ) เพื่อจำแนกความเร่งด่วนของข้อความบันทึก
- ผลลัพธ์ไปยังตัวรับอย่างต่างๆ เช่น คอนโซล ไฟล์ ฐานข้อมูล หรือบริการเครือข่าย
- การหมุนไฟล์ล็อกและนโยบายการรักษาอัตโนมัติ
- การติดตามการกระจายสำหรับสถาปัตยกรรมไมโครเซอร์วิส
- การบันทึกแบบมีโครงสร้างโดยใช้รูปแบบเช่น JSON ซึ่งสามารถประสานงานได้ดีกับระบบวิเคราะห์ล็อก

เครื่องมือเหล่านี้และคุณสมบัตินั้นสำคัญสำหรับการรักษาระบบที่เชื่อถือได้ สามารถสังเกตได้ โดยเฉพาะในสภาพแวดล้อมที่ซับซ้อน กระจายหรือมีการขยายขนาดสูง

## ดูเพิ่มเติม

สำหรับการเรียนรู้เพิ่มเติมและข้อมูลเชิงลึกเกี่ยวกับการบันทึกใน Kotlin ตรวจสอบที่:

- SLF4J (Simple Logging Facade for Java) [http://www.slf4j.org/](http://www.slf4j.org/)
- Logback, ตัวสืบทอดของ Log4j [http://logback.qos.ch/](http://logback.qos.ch/)
- Log4j 2 [https://logging.apache.org/log4j/2.x/](https://logging.apache.org/log4j/2.x/)
- เอกสารการใช้งาน Kotlin Multiplatform เกี่ยวกับ 'expect' และ 'actual' ประกาศ: [https://kotlinlang.org/docs/multiplatform.html](https://kotlinlang.org/docs/multiplatform.html)
- คู่มือการบันทึกแบบมีโครงสร้างใน Kotlin: [https://ktor.io/docs/logging.html](https://ktor.io/docs/logging.html)
