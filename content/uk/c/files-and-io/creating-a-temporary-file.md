---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 17:56:07.811001-07:00
description: "\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0442\u0438\u043C\
  \u0447\u0430\u0441\u043E\u0432\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0443\
  \ \u0432 \u0421 \u0432\u043A\u043B\u044E\u0447\u0430\u0454 \u0433\u0435\u043D\u0435\
  \u0440\u0430\u0446\u0456\u044E \u0444\u0430\u0439\u043B\u0443, \u044F\u043A\u0438\
  \u0439 \u043F\u0440\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439 \u0434\
  \u043B\u044F \u043A\u043E\u0440\u043E\u0442\u043A\u043E\u0447\u0430\u0441\u043D\u043E\
  \u0433\u043E \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F\
  , \u0437\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u044F\u043A \u043F\u0440\u043E\
  \u0441\u0442\u0456\u0440 \u0434\u043B\u044F \u043E\u0431\u0440\u043E\u0431\u043A\
  \u0438 \u0430\u0431\u043E \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043D\u043D\
  \u044F\u2026"
lastmod: '2024-02-25T18:49:47.583733-07:00'
model: gpt-4-0125-preview
summary: "\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0442\u0438\u043C\
  \u0447\u0430\u0441\u043E\u0432\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0443\
  \ \u0432 \u0421 \u0432\u043A\u043B\u044E\u0447\u0430\u0454 \u0433\u0435\u043D\u0435\
  \u0440\u0430\u0446\u0456\u044E \u0444\u0430\u0439\u043B\u0443, \u044F\u043A\u0438\
  \u0439 \u043F\u0440\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439 \u0434\
  \u043B\u044F \u043A\u043E\u0440\u043E\u0442\u043A\u043E\u0447\u0430\u0441\u043D\u043E\
  \u0433\u043E \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F\
  , \u0437\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u044F\u043A \u043F\u0440\u043E\
  \u0441\u0442\u0456\u0440 \u0434\u043B\u044F \u043E\u0431\u0440\u043E\u0431\u043A\
  \u0438 \u0430\u0431\u043E \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043D\u043D\
  \u044F\u2026"
title: "\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0442\u0438\u043C\u0447\
  \u0430\u0441\u043E\u0432\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0443"
---

{{< edit_this_page >}}

## Що та чому?
Створення тимчасового файлу в С включає генерацію файлу, який призначений для короткочасного використання, зазвичай як простір для обробки або зберігання даних. Програмісти роблять це для управління тимчасовими даними без впливу на постійне зберігання програми або для забезпечення видалення конфіденційних даних після використання.

## Як:
Створення тимчасового файлу в мові програмування С може використовувати такі функції, як `tmpfile()` і `mkstemp()`.

**Використання `tmpfile()`**: Ця функція створює унікальний тимчасовий файл, який автоматично видаляється, коли програма завершується або файл закривається.

```c
#include <stdio.h>

int main() {
    FILE *temp = tmpfile();
    if (temp == NULL) {
        perror("Не вдалося створити тимчасовий файл");
        return 1;
    }

    // Запис даних до тимчасового файлу
    fputs("Це тест.\n", temp);

    // Перемотати та прочитати, що ми написали
    rewind(temp);
    char buffer[1024];
    while (fgets(buffer, sizeof(buffer), temp) != NULL) {
        printf("%s", buffer);
    }

    // Автоматично видаляється при закритті або виході з програми
    fclose(temp);

    return 0;
}
```
**Приклад виводу:**
```
Це тест.
```

**Використання `mkstemp()`**: Надає більше контролю над місцезнаходженням тимчасового файлу та його дозволами. Вимагає рядок-шаблон, який закінчується на `XXXXXX`, який він потім замінює унікальною послідовністю, щоб уникнути зіткнення імен.

```c
#include <unistd.h>
#include <stdio.h>
#include <fcntl.h>

int main() {
    char template[] = "/tmp/mytemp-XXXXXX";
    int fd = mkstemp(template);

    if (fd == -1) {
        perror("Не вдалося створити тимчасовий файл");
        return 1;
    }
    
    printf("Створено тимчасовий файл: %s\n", template);

    // Тимчасові файли, створені за допомогою mkstemp(), слід видаляти вручну
    unlink(template);

    close(fd);
    return 0;
}
```
**Приклад виводу:**
```
Створено тимчасовий файл: /tmp/mytemp-abc123
```

## Поглиблений аналіз
Концепція тимчасових файлів не є унікальною для С, але є загальною функціональністю в багатьох середовищах програмування через її користь у обробці ефемерних даних. Функція `tmpfile()`, стандартизована в ISO C стандарті, створює файл з унікальним ім'ям у стандартному каталозі, але його існування є мимолітним, що робить його ідеальним для безпечних або тимчасових операцій.

Одним з помітних обмежень `tmpfile()` є його залежність від стандартного тимчасового каталогу, який може бути непридатним для всіх додатків, особливо з точки зору дозволів або безпеки. Навпаки, `mkstemp()` дозволяє вказувати каталог і забезпечує безпечне створення файлу з гарантовано унікальними іменами файлів шляхом зміни наданого рядка шаблону, пропонуючи більш гнучке рішення за рахунок ручного управління файлами.

Однак створення тимчасових файлів може вводити вразливості безпеки, такі як умови гонки, якщо з ними не поводитись належним чином. Наприклад, `tmpfile()` і `mkstemp()` адресують різні аспекти безпечного створення тимчасових файлів (автоматичне видалення і безпечне генерування імен відповідно), але жоден з них не є панацеєю. Розробники повинні враховувати конкретні потреби безпеки своїх додатків, включаючи потенційні вразливості, внесені тимчасовими файлами, і можливо потребуватимуть впровадження додаткових заходів безпеки понад те, що ці функції забезпечують.

У ширшому ландшафті програмування, альтернативи, такі як зберігання в пам'яті (наприклад, використання динамічних структур даних або файлів зі спільним доступом до пам'яті), можуть запропонувати кращу продуктивність або безпеку для обробки тимчасових даних. Тим не менше, фізичні тимчасові файли залишаються важливим інструментом у багатьох сценаріях, особливо для великих наборів даних або коли задіяне міжпроцесорне спілкування.
