---
title:                "Видалення лапок із рядка"
date:                  2024-01-26T03:38:25.389216-07:00
model:                 gpt-4-0125-preview
simple_title:         "Видалення лапок із рядка"

category:             "C"
tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/removing-quotes-from-a-string.md"
---

{{< edit_this_page >}}

## Що і чому?

Видалення лапок зі строки включає в себе викидання будь-яких знаків лапок— будь то одинарні ('') чи подвійні ("")—які є частиною вмісту строки. Програмісти роблять це для санітації вхідних даних, підготовки даних для подальшої обробки або уникнення синтаксичних помилок при роботі з шляхами до файлів та командами в мовах, які використовують лапки для позначення строк.

## Як це зробити:

Ось функція на мові C, яка очистить ті важкі лапки з ваших строк:

```c
#include <stdio.h>
#include <string.h>

void remove_quotes(char *str) {
    char *p_read = str, *p_write = str;
    while (*p_read) {
        if (*p_read != '"' && *p_read != '\'') {
            *p_write++ = *p_read;
        }
        p_read++;
    }
    *p_write = '\0';
}

int main() {
    char str[] = "He said, \"Hello, 'world'!\"";
    printf("Оригінал: %s\n", str);
    remove_quotes(str);
    printf("Очищено: %s\n", str);
    return 0;
}
```

Приклад виводу:

```
Оригінал: He said, "Hello, 'world'!"
Очищено: He said, Hello, world!
```

## Глибоке занурення

Видалення лапок зі строки було завданням з самого початку програмування, де гігієна даних була і залишається ключем до уникнення помилок (як-от атака через SQL-ін’єкцію) або забезпечення безпечної передачі строки до систем, які можуть сприймати лапку як керуючий символ.

Історично різні мови вирішують це завдання по-різному—деякі мають вбудовані функції (як-от `strip` у Python), тоді як інші, як-от C, вимагають ручної реалізації через їхню спрямованість на надання розробникам контролю на нижчому рівні.

Альтернативи включають використання бібліотечних функцій, як-от `strpbrk` для пошуку лапок, або застосування регулярних виразів (з бібліотеками такими як PCRE) для більш складних візерунків, хоча це може бути зайвим тільки для видалення лапок.

Вищевказана реалізація просто сканує кожен символ у строкі, копіюючи лише символи без лапок до місця розташування вказівника запису. Це ефективно, оскільки виконується на місці без потреби в додатковій пам'яті для результатувальної строки.

## Див. також

- [Функції стандартної бібліотеки C](http://www.cplusplus.com/reference/clibrary/)
- [PCRE - Perl Compatible Regular Expressions](https://www.pcre.org/)
- [Розуміння вказівників у C](https://www.learn-c.org/en/Pointers)
