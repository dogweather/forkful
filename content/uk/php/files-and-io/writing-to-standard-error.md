---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 19:34:24.688017-07:00
description: "\u042F\u043A \u0437\u0440\u043E\u0431\u0438\u0442\u0438: \u0423 PHP\
  \ \u0437\u0430\u043F\u0438\u0441 \u0443 stderr \u043C\u043E\u0436\u0435 \u0431\u0443\
  \u0442\u0438 \u0434\u043E\u0441\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u0437\
  \ \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F\u043C\
  \ \u0444\u0443\u043D\u043A\u0446\u0456\u0457 `fwrite()` \u0440\u0430\u0437\u043E\
  \u043C \u0437 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044C\u043E \u0432\
  \u0438\u0437\u043D\u0430\u0447\u0435\u043D\u043E\u044E \u043A\u043E\u043D\u0441\u0442\
  \u0430\u043D\u0442\u043E\u044E `STDERR`, \u044F\u043A\u0430\u2026"
lastmod: '2024-03-13T22:44:49.458563-06:00'
model: gpt-4-0125-preview
summary: "\u0423 PHP \u0437\u0430\u043F\u0438\u0441 \u0443 stderr \u043C\u043E\u0436\
  \u0435 \u0431\u0443\u0442\u0438 \u0434\u043E\u0441\u044F\u0433\u043D\u0443\u0442\
  \u0438\u0439 \u0437 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\
  \u043D\u044F\u043C \u0444\u0443\u043D\u043A\u0446\u0456\u0457 `fwrite()` \u0440\u0430\
  \u0437\u043E\u043C \u0437 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044C\
  \u043E \u0432\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u043E\u044E \u043A\u043E\
  \u043D\u0441\u0442\u0430\u043D\u0442\u043E\u044E `STDERR`, \u044F\u043A\u0430 \u043F\
  \u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u044F\u0454 \u043F\u043E\u0442\u0456\
  \u043A \u0432\u0438\u0432\u043E\u0434\u0443 \u043F\u043E\u043C\u0438\u043B\u043E\
  \u043A."
title: "\u0417\u0430\u043F\u0438\u0441 \u0434\u043E \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u043E\u0457 \u043F\u043E\u043C\u0438\u043B\u043A\u0438"
weight: 25
---

## Як зробити:
У PHP запис у stderr може бути досягнутий з використанням функції `fwrite()` разом з попередньо визначеною константою `STDERR`, яка представляє потік виводу помилок.

```php
<?php
// Запис простого повідомлення в stderr.
fwrite(STDERR, "Це повідомлення про помилку.\n");
```

Приклад виводу при виконанні скрипта з командного рядка:
```
Це повідомлення про помилку.
```

Щоб продемонструвати більш практичне використання, розгляньте сценарій, коли ви аналізуєте вхідні дані користувача і натрапляєте на неочікувані дані:
```php
<?php
$input = 'неочікувані дані';

// Симуляція помилки при обробці вхідних даних користувача.
if ($input === 'неочікувані дані') {
    fwrite(STDERR, "Помилка: Отримано несподівані вхідні дані.\n");
    exit(1); // Вихід з ненульовим значенням, щоб вказати на помилку.
}
```

Хоча вбудовані можливості PHP для обробки stderr загалом достатні, при роботі з більш складними програмами або при бажанні інтегрувати журналювання помилок stderr з зовнішніми системами, бібліотеки третіх сторін, як-от Monolog, можуть бути потужним союзником. Monolog - це бібліотека для ведення журналів, яка може обробляти stderr серед багатьох інших цілей (файли, сокети тощо).

Використання Monolog для запису в stderr:

Спочатку переконайтеся, що у вас встановлений Monolog через Composer:
```
composer require monolog/monolog
```

Після цього ви можете налаштувати Monolog на використання `StreamHandler`, націленого на `php://stderr`:

```php
<?php
require 'vendor/autoload.php';

use Monolog\Logger;
use Monolog\Handler\StreamHandler;

// Створення каналу журналу
$log = new Logger('name');
$log->pushHandler(new StreamHandler('php://stderr', Logger::WARNING));

// Додавання повідомлення журналу в stderr
$log->warning('Це повідомлення про попередження.');
```

Використання коду вище дозволяє Monolog відправити повідомлення про попередження в stderr, що є особливо корисним для програм, які потребують детальних налаштувань журналювання або зовнішнього моніторингу журналів.
