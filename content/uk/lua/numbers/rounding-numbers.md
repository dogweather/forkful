---
date: 2024-01-26 03:46:31.572011-07:00
description: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u043D\u044F \u0447\u0438\
  \u0441\u0435\u043B \u043E\u0437\u043D\u0430\u0447\u0430\u0454 \u0457\u0445 \u043A\
  \u043E\u0440\u0438\u0433\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u043E \u043D\
  \u0430\u0439\u0431\u043B\u0438\u0436\u0447\u043E\u0433\u043E \u0446\u0456\u043B\u043E\
  \u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0430\u0431\u043E \u0432\u043A\u0430\
  \u0437\u0430\u043D\u043E\u0433\u043E \u0434\u0435\u0441\u044F\u0442\u043A\u043E\u0432\
  \u043E\u0433\u043E \u043C\u0456\u0441\u0446\u044F. \u0426\u0435 \u0454 \u043E\u0441\
  \u043D\u043E\u0432\u043E\u044E \u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\
  \u0443\u0432\u0430\u043D\u043D\u0456 \u0434\u043B\u044F \u0437\u043C\u0435\u043D\
  \u0448\u0435\u043D\u043D\u044F\u2026"
lastmod: 2024-02-19 22:05:08.527204
model: gpt-4-0125-preview
summary: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u043D\u044F \u0447\u0438\
  \u0441\u0435\u043B \u043E\u0437\u043D\u0430\u0447\u0430\u0454 \u0457\u0445 \u043A\
  \u043E\u0440\u0438\u0433\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u043E \u043D\
  \u0430\u0439\u0431\u043B\u0438\u0436\u0447\u043E\u0433\u043E \u0446\u0456\u043B\u043E\
  \u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0430\u0431\u043E \u0432\u043A\u0430\
  \u0437\u0430\u043D\u043E\u0433\u043E \u0434\u0435\u0441\u044F\u0442\u043A\u043E\u0432\
  \u043E\u0433\u043E \u043C\u0456\u0441\u0446\u044F. \u0426\u0435 \u0454 \u043E\u0441\
  \u043D\u043E\u0432\u043E\u044E \u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\
  \u0443\u0432\u0430\u043D\u043D\u0456 \u0434\u043B\u044F \u0437\u043C\u0435\u043D\
  \u0448\u0435\u043D\u043D\u044F\u2026"
title: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u043D\u044F \u0447\u0438\u0441\
  \u0435\u043B"
---

{{< edit_this_page >}}

## Що та Чому?
Округлення чисел означає їх коригування до найближчого цілого числа або вказаного десяткового місця. Це є основою в програмуванні для зменшення складності, підвищення продуктивності та на ті моменти, коли точність після певної межі не додає цінності.

## Як це зробити:
```lua
-- Базове округлення у Lua не вбудоване за замовчуванням, але ви можете визначити функцію:

function round(num)
    return num >= 0 and math.floor(num + 0.5) or math.ceil(num - 0.5)
end

print(round(3.5))  -- 4
print(round(2.3))  -- 2
print(round(-1.6)) -- -2

-- Для округлення до конкретного десяткового місця:
function round(num, decimalPlaces)
    local mult = 10^(decimalPlaces or 0)
    return math.floor(num * mult + 0.5) / mult
end

print(round(3.14159, 2)) -- 3.14
print(round(1.98765, 3))  -- 1.988
```

## Поглиблений Дайв
Lua не містить функції округлення "з коробки", на відміну від деяких інших мов. Історично, ви повинні написати свою власну або використовувати сторонню бібліотеку. Загальноприйняті обходи полягають у використанні `math.floor()` для округлення вниз і `math.ceil()` для округлення вгору, разом з додаванням або відніманням 0.5 до цього, залежно від знаку числа.

Альтернативи самостійному написанню функції включають бібліотеки, такі як "lua-users wiki" або "Penlight". У кожної є свої переваги та компроміси, як додаткові можливості або більше навантаження.

Внутрішньо, ці функції зазвичай працюють, використовуючи спосіб, яким комп'ютери зберігають числа з плаваючою комою. Додавання 0.5 до позитивного числа з плаваючою комою, яке ви хочете округлити, змусить його перетнути межу наступного цілого значення, тому коли ви застосовуєте `math.floor()`, воно округляється вниз до цього найближчого цілого числа.

## Дивіться Також
- [Lua 5.4 Довідник з Математичних Функцій](https://www.lua.org/manual/5.4/manual.html#6.7)
- [Математичні Бібліотеки Penlight Lua](https://github.com/lunarmodules/Penlight)
