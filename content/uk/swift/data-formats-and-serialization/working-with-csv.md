---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 19:21:59.625998-07:00
description: "\u0420\u043E\u0431\u043E\u0442\u0430 \u0437 \u0444\u0430\u0439\u043B\
  \u0430\u043C\u0438 CSV (Comma-Separated Values, \u0437\u043D\u0430\u0447\u0435\u043D\
  \u043D\u044F, \u0440\u043E\u0437\u0434\u0456\u043B\u0435\u043D\u0456 \u043A\u043E\
  \u043C\u0430\u043C\u0438) \u043F\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\
  \u0454 \u0430\u043D\u0430\u043B\u0456\u0437 \u0442\u0430 \u0433\u0435\u043D\u0435\
  \u0440\u0430\u0446\u0456\u044E \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u043E\
  \u0432\u0430\u043D\u0438\u0445 \u0434\u0430\u043D\u0438\u0445 \u0437 \u0442\u0435\
  \u043A\u0441\u0442\u043E\u0432\u0438\u0445 \u0444\u0430\u0439\u043B\u0456\u0432\
  , \u0434\u0435 \u043A\u043E\u0436\u0435\u043D\u2026"
lastmod: '2024-03-13T22:44:49.957649-06:00'
model: gpt-4-0125-preview
summary: "\u0420\u043E\u0431\u043E\u0442\u0430 \u0437 \u0444\u0430\u0439\u043B\u0430\
  \u043C\u0438 CSV (Comma-Separated Values, \u0437\u043D\u0430\u0447\u0435\u043D\u043D\
  \u044F, \u0440\u043E\u0437\u0434\u0456\u043B\u0435\u043D\u0456 \u043A\u043E\u043C\
  \u0430\u043C\u0438) \u043F\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\
  \ \u0430\u043D\u0430\u043B\u0456\u0437 \u0442\u0430 \u0433\u0435\u043D\u0435\u0440\
  \u0430\u0446\u0456\u044E \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u043E\u0432\
  \u0430\u043D\u0438\u0445 \u0434\u0430\u043D\u0438\u0445 \u0437 \u0442\u0435\u043A\
  \u0441\u0442\u043E\u0432\u0438\u0445 \u0444\u0430\u0439\u043B\u0456\u0432, \u0434\
  \u0435 \u043A\u043E\u0436\u0435\u043D\u2026"
title: "\u0420\u043E\u0431\u043E\u0442\u0430 \u0437 CSV"
---

{{< edit_this_page >}}

## Що і чому?

Робота з файлами CSV (Comma-Separated Values, значення, розділені комами) передбачає аналіз та генерацію структурованих даних з текстових файлів, де кожен рядок представляє запис, а кожен запис складається з полів, розділених комами. Програмісти часто займаються цією діяльністю, щоб легко імпортувати, експортувати та маніпулювати табличними даними за допомогою формату, який широко підтримується на різних платформах і мовами програмування завдяки його простоті та формату, зрозумілому для людини.

## Як:

У Swift немає вбудованої підтримки для безпосереднього аналізу файлів CSV, але ви можете обробляти дані CSV, використовуючи методи `String` для розбиття вмісту, або використовуючи сторонні бібліотеки, такі як SwiftCSV, для більш зручного підходу. Ось обидва методи:

### Ручний аналіз без зовнішніх бібліотек
```swift
// Розглянемо простий рядок CSV
let csvString = """
name,age,city
John Doe,29,New York
Jane Smith,34,Los Angeles
"""

// Розділімо рядок CSV на рядки
let rows = csvString.components(separatedBy: "\n")

// Витягнемо ключі з першого рядка
let keys = rows.first?.components(separatedBy: ",")

// Проходимося по рядках, починаючи з другого
var result: [[String: String]] = []
for row in rows.dropFirst() {
    let values = row.components(separatedBy: ",")
    let dict = Dictionary(uniqueKeysWithValues: zip(keys!, values))
    result.append(dict)
}

// Приклад виводу
print(result)
// Виводить: [{"city": "New York", "age": "29", "name": "John Doe"}, {"city": "Los Angeles", "age": "34", "name": "Jane Smith"}]
```
Цей підхід простий, але не дуже надійний, особливо у випадках із спеціальними умовами, такими як коми у значеннях, розриви рядків у полях тощо.

### Використання бібліотеки SwiftCSV
Спочатку додайте SwiftCSV до вашого проєкту, включивши її в залежності вашого `Package.swift`:
```swift
.package(url: "https://github.com/swiftcsv/SwiftCSV.git", from: "0.5.6")
```
Потім імпортуйте та використовуйте її наступним чином:
```swift
import SwiftCSV

// Припустимо, `csvString` визначено як вище

// Створимо об'єкт CSV
if let csv = try? CSV(string: csvString) {
    // Доступ до рядків як до словників
    let rows = csv.namedRows
    
    // Приклад виводу
    print(rows)
    // Виводить: [{"city": "New York", "age": "29", "name": "John Doe"}, {"city": "Los Angeles", "age": "34", "name": "Jane Smith"}]
}
```
SwiftCSV спрощує аналіз, автоматично обробляючи нюанси, такі як коми всередині тексту, розриви рядків у полях та кодування символів. Однак, пам'ятайте про необхідність обробки можливих помилок у реальних додатках, особливо при роботі з зовнішніми джерелами даних.
