---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 19:34:46.617580-07:00
description: "\u0417\u0430\u043F\u0438\u0441 \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u0438\u0439 \u043F\u043E\u0442\u0456\u043A \u043F\u043E\
  \u043C\u0438\u043B\u043E\u043A (stderr) \u0432 Ruby \u043F\u043E\u043B\u044F\u0433\
  \u0430\u0454 \u0443 \u0441\u043F\u0440\u044F\u043C\u0443\u0432\u0430\u043D\u043D\
  \u0456 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C \u043F\
  \u0440\u043E \u043F\u043E\u043C\u0438\u043B\u043A\u0438 \u0430\u0431\u043E \u0434\
  \u0456\u0430\u0433\u043D\u043E\u0441\u0442\u0438\u043A\u0438 \u0432 \u043E\u043A\
  \u0440\u0435\u043C\u0438\u0439 \u043F\u043E\u0442\u0456\u043A \u0432\u0438\u0432\
  \u043E\u0434\u0443, \u0432\u0456\u0434\u043C\u0456\u043D\u043D\u0438\u0439 \u0432\
  \u0456\u0434\u2026"
lastmod: '2024-03-13T22:44:50.256266-06:00'
model: gpt-4-0125-preview
summary: "\u0417\u0430\u043F\u0438\u0441 \u0432 \u0441\u0442\u0430\u043D\u0434\u0430\
  \u0440\u0442\u043D\u0438\u0439 \u043F\u043E\u0442\u0456\u043A \u043F\u043E\u043C\
  \u0438\u043B\u043E\u043A (stderr) \u0432 Ruby \u043F\u043E\u043B\u044F\u0433\u0430\
  \u0454 \u0443 \u0441\u043F\u0440\u044F\u043C\u0443\u0432\u0430\u043D\u043D\u0456\
  \ \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C \u043F\u0440\
  \u043E \u043F\u043E\u043C\u0438\u043B\u043A\u0438 \u0430\u0431\u043E \u0434\u0456\
  \u0430\u0433\u043D\u043E\u0441\u0442\u0438\u043A\u0438 \u0432 \u043E\u043A\u0440\
  \u0435\u043C\u0438\u0439 \u043F\u043E\u0442\u0456\u043A \u0432\u0438\u0432\u043E\
  \u0434\u0443, \u0432\u0456\u0434\u043C\u0456\u043D\u043D\u0438\u0439 \u0432\u0456\
  \u0434\u2026"
title: "\u0417\u0430\u043F\u0438\u0441 \u0434\u043E \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u043E\u0457 \u043F\u043E\u043C\u0438\u043B\u043A\u0438"
---

{{< edit_this_page >}}

## Що і чому?
Запис в стандартний потік помилок (stderr) в Ruby полягає у спрямуванні повідомлень про помилки або діагностики в окремий потік виводу, відмінний від стандартного потоку виводу (stdout). Програмісти роблять це, щоб розрізняти звичайний вивід програми від помилок і інформації для налагодження, сприяючи легшій діагностиці проблем і аналізу журналів.

## Як зробити:
Стандартна бібліотека Ruby надає простий спосіб запису в stderr за допомогою `$stderr` або `STDERR`. Для цієї базової операції вам не потрібні сторонні бібліотеки.

### Запис простого повідомлення в stderr:
```ruby
$stderr.puts "Помилка: Файл не знайдено."
# Або еквівалентно
STDERR.puts "Помилка: Файл не знайдено."
```
Приклад виводу (у stderr):
```
Помилка: Файл не знайдено.
```

### Перенаправлення stderr у файл:
```ruby
File.open('error.log', 'w') do |file|
  STDERR.reopen(file)
  STDERR.puts "Не вдалося відкрити конфігурацію."
end
```
Цей фрагмент коду перенаправляє stderr у файл під назвою `error.log`, і всі наступні записані помилки будуть виведені туди, доки програма не скине перенаправлення stderr або не завершить роботу.

### Використання stderr з обробкою винятків:
```ruby
begin
  # Симуляція операції, яка може завершитися невдачею, наприклад, відкриття файлу
  File.open('nonexistent_file.txt')
rescue Exception => e
  STDERR.puts "Виникло виключення: #{e.message}"
end
```
Приклад виводу (у stderr):
```
Виникло виключення: Немає такого файлу або директорії @ rb_sysopen - nonexistent_file.txt
```

Хоча вбудовані методи Ruby для запису в stderr вистачає для багатьох застосувань, для більш складних потреб логування можна розглянути стандартну бібліотеку `logger` або зовнішні геми, такі як `Log4r`. Вони надають налаштовуємі механізми логування, включаючи рівні серйозності, форматування та можливість запису в різні виводи, включаючи файли, електронну пошту та багато іншого.
