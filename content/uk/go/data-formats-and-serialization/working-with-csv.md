---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 18:12:55.709792-07:00
description: "\u0424\u043E\u0440\u043C\u0430\u0442 \u0437\u043D\u0430\u0447\u0435\u043D\
  \u044C, \u0440\u043E\u0437\u0434\u0456\u043B\u0435\u043D\u0438\u0445 \u043A\u043E\
  \u043C\u0430\u043C\u0438 (CSV), \u0454 \u043F\u043E\u0432\u0441\u044E\u0434\u043D\
  \u0438\u043C \u0434\u043B\u044F \u043E\u0431\u043C\u0456\u043D\u0443 \u0434\u0430\
  \u043D\u0438\u043C\u0438 \u0437\u0430\u0432\u0434\u044F\u043A\u0438 \u0441\u0432\
  \u043E\u0457\u0439 \u043F\u0440\u043E\u0441\u0442\u043E\u0442\u0456 \u0442\u0430\
  \ \u043B\u0435\u0433\u043A\u043E\u0441\u0442\u0456 \u0456\u043D\u0442\u0435\u0433\
  \u0440\u0430\u0446\u0456\u0457 \u0437 \u0431\u0456\u043B\u044C\u0448\u0456\u0441\
  \u0442\u044E \u043C\u043E\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u0443\
  \u0432\u0430\u043D\u043D\u044F,\u2026"
lastmod: '2024-03-13T22:44:48.474783-06:00'
model: gpt-4-0125-preview
summary: "\u0424\u043E\u0440\u043C\u0430\u0442 \u0437\u043D\u0430\u0447\u0435\u043D\
  \u044C, \u0440\u043E\u0437\u0434\u0456\u043B\u0435\u043D\u0438\u0445 \u043A\u043E\
  \u043C\u0430\u043C\u0438 (CSV), \u0454 \u043F\u043E\u0432\u0441\u044E\u0434\u043D\
  \u0438\u043C \u0434\u043B\u044F \u043E\u0431\u043C\u0456\u043D\u0443 \u0434\u0430\
  \u043D\u0438\u043C\u0438 \u0437\u0430\u0432\u0434\u044F\u043A\u0438 \u0441\u0432\
  \u043E\u0457\u0439 \u043F\u0440\u043E\u0441\u0442\u043E\u0442\u0456 \u0442\u0430\
  \ \u043B\u0435\u0433\u043A\u043E\u0441\u0442\u0456 \u0456\u043D\u0442\u0435\u0433\
  \u0440\u0430\u0446\u0456\u0457 \u0437 \u0431\u0456\u043B\u044C\u0448\u0456\u0441\
  \u0442\u044E \u043C\u043E\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u0443\
  \u0432\u0430\u043D\u043D\u044F, \u0432\u043A\u043B\u044E\u0447\u0430\u044E\u0447\
  \u0438 Go."
title: "\u0420\u043E\u0431\u043E\u0442\u0430 \u0437 CSV"
weight: 37
---

## Що і чому?

Формат значень, розділених комами (CSV), є повсюдним для обміну даними завдяки своїй простоті та легкості інтеграції з більшістю мов програмування, включаючи Go. Програмісти часто працюють з файлами CSV для міграції даних, генерації звітів або аналізу даних, що робить розуміння маніпуляцій з CSV критично важливим у наборі інструментів розробки програмного забезпечення.

## Як:

Робота з файлами CSV у Go є простою завдяки стандартній бібліотеці `encoding/csv`. Нижче наведено основні вказівки щодо читання та запису файлів CSV.

### Читання файлу CSV

Щоб прочитати файл CSV, спочатку відкрийте файл за допомогою `os.Open`, а потім створіть новий читач CSV за допомогою `csv.NewReader`.

```go
package main

import (
    "encoding/csv"
    "fmt"
    "os"
)

func main() {
    file, err := os.Open("data.csv")
    if err != nil {
        panic(err)
    }
    defer file.Close()

    reader := csv.NewReader(file)
    records, err := reader.ReadAll()
    if err != nil {
        panic(err)
    }

    for _, record := range records {
        fmt.Println(record)
    }
}
```

Цей фрагмент коду прочитає всі записи з `data.csv` і виведе їх. Кожен запис - це масив полів.

### Запис до файлу CSV

Для запису використовуйте `csv.NewWriter` і `writer.WriteAll` або `writer.Write` для записування декількох або одного запису CSV відповідно.

```go
package main

import (
    "encoding/csv"
    "os"
)

func main() {
    file, err := os.Create("output.csv")
    if err != nil {
        panic(err)
    }
    defer file.Close()

    writer := csv.NewWriter(file)
    defer writer.Flush()

    records := [][]string{
        {"Name", "Age", "City"},
        {"John Doe", "30", "New York"},
        {"Jane Doe", "27", "Los Angeles"},
    }

    if err := writer.WriteAll(records); err != nil {
        panic(err)
    }
}
```

Це створить файл під назвою `output.csv` з наданими записами. Завжди пам'ятайте очистити буфер записувача, щоб переконатися, що всі буферизовані дані записані у файл.

## Поглиблений огляд

Пакет Go `encoding/csv` забезпечує надійну підтримку для читання та запису файлів CSV, але він розроблений з урахуванням простоти, що означає, що він не обробляє складніші сценарії, такі як автоматичне визначення роздільників, робота з лапками або вбудовані переноси рядків у полях без ручного втручання.

Історично обробка CSV у мовах програмування часто була обтяжливою через ці складнощі, але стандартна бібліотека Go абстрагує багато з цих проблем, дозволяючи розробникам працювати з даними CSV з відносною легкістю. Однак, для складнішої маніпуляції CSV можуть знадобитися сторонні бібліотеки, як-от `gocsv`, або вручну розбір.

Одна помітна риса пакета `csv` Go - це підтримка вказівки користувацького коми (роздільника), що дозволяє йому безперешкодно працювати з варіантами файлів CSV, як-от табулювання (TSV). Однак, коли мова йде про дуже нерегулярні або нестандартні файли CSV, програмістам Go може знадобитися розширити існуючі реалізації читача або письменника csv.

Хоча можливості обробки CSV в Go є міцними для загальних цілей, для застосувань, що вимагають інтенсивної маніпуляції з даними, таких як наука про дані або складні завдання трансформації даних, програмістам може знадобитися звернутися до спеціалізованих пакетів обробки даних або навіть інших мов, краще підходящих для цих завдань, як-от Python з його бібліотекою `pandas`. Тим не менш, для прямих операцій з читання-запису CSV стандартна бібліотека Go вирізняється своєю ефективністю та простотою.
