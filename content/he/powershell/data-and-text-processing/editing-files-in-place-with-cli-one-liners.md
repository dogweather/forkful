---
title:                "עריכת קבצים במקום עם שורות פקודה חד-שורתיות"
aliases: - /he/powershell/editing-files-in-place-with-cli-one-liners.md
date:                  2024-01-27T16:21:14.937863-07:00
model:                 gpt-4-0125-preview
simple_title:         "עריכת קבצים במקום עם שורות פקודה חד-שורתיות"

tag:                  "Data and Text Processing"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/he/powershell/editing-files-in-place-with-cli-one-liners.md"
---

{{< edit_this_page >}}

## מה ולמה?

עריכת קבצים במקום באמצעות שורות פקודה חד פעמיות ב-PowerShell היא על ידי ביצוע שינויים ישירים בקבצים מהשורת הפקודה, ללא הצורך לפתוח אותם בעורך. גישה זו חוסכת זמן ויכולה להיות נוחה במיוחד לעיבוד באצווה או לאוטומציה של משימות עריכה חוזרות על מספר קבצים.

## איך ל:

### החלפת טקסט בקובץ יחיד

בואו נתחיל במשימה פשוטה: אתם רוצים להחליף את כל מופעי "oldtext" ב"newtext" בקובץ בשם example.txt. הנה איך עושים את זה:

```PowerShell
(Get-Content example.txt) -replace 'oldtext', 'newtext' | Set-Content example.txt
```

שורת הפקודה הזו קוראת את התוכן, מבצעת את ההחלפה וכותבת את התוכן חזרה לקובץ המקורי.

### עריכת מספר קבצים

מה אם אתם צריכים להחיל את אותה השינוי על מספר קבצים? הנה גישה באמצעות לולאה:

```PowerShell
Get-ChildItem *.txt | ForEach-Object {
  (Get-Content $_) -replace 'oldtext', 'newtext' | Set-Content $_
}
```

קטע קוד זה מחפש את כל קבצי ה`.txt` בתיקייה הנוכחית, מחליף את "oldtext" ב"newtext" בכל אחד מהם.

### הוספת תוכן בתחילה או בסוף קבצים

הוספה או הקדמה של תוכן יכולה גם להתבצע ביעילות:

```PowerShell
# הקדמה
"New first line`n" + (Get-Content example.txt) | Set-Content example.txt

# הוספה
(Get-Content example.txt) + "`nNew last line" | Set-Content example.txt
```

כאן, אנו פשוט מצרפים את התוכן החדש לפני או אחרי התוכן הקיים ושומרים אותו חזרה.

## עיון מעמיק

באופן היסטורי, עריכה במקום נקשרת יותר עם כלים של Unix כמו `sed` ו-`awk`. PowerShell, שהוא כלי יותר חדש, לא כולל תכונת עריכה במקום מובנית מראש. זה נובע במידה רבה מפילוסופיית העיצוב שלו, המדגישה את חשיבות האובייקטים על פני זרמי טקסט, בניגוד לכלים של Unix שמתייחסים לרוב הקלטים כטקסט.

חלופות ל-PowerShell למשימה זו כוללות שימוש בכלים קלאסיים של Unix הזמינים ב-Windows דרך Cygwin או מערכת ההפעלה המשנית של Windows ל-Linux (WSL). כלים אלו לעיתים קרובות מספקים תחביר יותר תמציתי לעיבוד במקום בזכות העיצוב הממוקד טקסט שלהם.

מבחינה טכנית, חשוב לציין כי גישת PowerShell כוללת קריאה של הקובץ כולו לזיכרון, ביצוע השינויים, ואז כתיבה חזרה. למרות שזה עובד היטב לקבצים בגודל בינוני, זה יכול להיות לא יעיל לקבצים גדולים מאוד. במקרים כאלה, כדאי לשקול שימוש בשיטות של `.NET` ישירות או פנייה לכלים אלטרנטיביים המיועדים לעיבוד זרמים גדולים של נתונים.

למרות אלו שיקולים, גמישותה והמאפיינים הנרחבים של PowerShell הופכים אותו לכלי יקר ערך למניפולציה של קבצים ישירות משורת הפקודה, במיוחד עבור מי שכבר מוטבע באקוסיסטם של Windows או מנהל סביבות רב-פלטפורמיות.
